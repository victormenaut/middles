

SWITCH MODE POWER SUPPLY We unravel the technology and give full constructional details CCD REVERB UNIT VEHICLE WATCHDOG MAKING YOUR OWN P.C.B.s — 2 THE NO. 1 INDEPENDENT MAGAZINE for ELECTRONICS, TECHNOLOGY and COMPUTER PROJECTS
VOL. 21 No. 6 JUNE 1992
PROJECTS…
THEORY…
NEWS…
COMMENT…
POPULAR FEATURES…
Projects
CCD REVERB UNIT by Robert Penfold
A solid state design for performing artists
VEHICLE WATCHDOG by Chris Walker
Completely self-contained automatic unit to ward off thieves
SWITCH-MODE POWER SUPPLY by Steve Knight
We describe the technology and show a 5V to 15V design
THE PULSER by Max Horsey
For the flash, at the next rave!
DIGITAL SERVO INTERFACE by Mike Meakin
Animate almost anything with your computer and this project
Series
CIRCUIT SURGERY by Mike Tooley
Our clinic for constructors — your problems solved
INTERFACE by Robert Penfold
Train Control Software; PC Reliability
MAKING YOUR OWN PCBs — 2 by Alan Winstanley
A guide to p.c.b.s and how to make your own
ACTUALLY DOING IT by Robert Penfold
Component supply and stocking
INFORMATION TECHNOLOGY AND THE NATIONAL CURRICULUM by T. R. de Vaux-Balbirnie
AMATEUR RADIO by Tony Smith G4FAI WARC; Broadcast Band Expansion; Young Amateur of the Year; Another New Country; Radio at Duxford
Features
EDITORIAL
FOR YOUR ENTERTAINMENT by Barry Fox
London Show; Widescreen Demo; Dual Standards; By Memory
SHOPTALK with David Barrington
Component buying for EE projects
EVERYDAY NEWS
What's happening in the world of electronics
SUBSCRIPTION SPECIAL OFFER
The first subs offer for many years — don't miss it!
THE ABC OF R.I.A.A. by W. F. Harms
The curves and networks
DOWN TO EARTH by George Hylton
Battery substitutes
EVERYDAY READOUT
The best feature in the mag — its written by you!
Our letters page
NEW!
ELECTRONICS VIDEOS
Learn all about your favourite subject with these videos
DIRECT BOOK SERVICE
Selected technical books, EE books and all Babani books by mail order
PRINTED CIRCUIT BOARD SERVICE
A special PCB SALE (while stocks last)— boards of EE projects
ADVERTISER'S INDEX
Readers Services •Editorial and Advertisement Departments   
READERS' ENQUIRIES
We are unable to offer any advice on the use, purchase, repair or modification of commercial equipment or the incorporation or modification of designs published in the magazine.
We regret that we cannot provide data or answer queries on articles or projects that are more than five years old.
Letters requiring a personal reply must be accompanied by a stamped self-addressed envelope or a self addressed envelope and international reply coupons .
All reasonable precautions are taken to ensure that the advice and data given to readers is reliable.
We cannot however guarantee it and we cannot accept legal responsibility for it.
COMPONENT SUPPLIES
We do not supply electronics components or kits for building the projects featured, these can be supplied by advertisers.
We advise readers to check that all parts are still available before commencing any project in a back-dated issue.
We regret that we cannot provide data or answer queries on projects that are more than five years old .
ADVERTISEMENTS
Although the proprietors and staff of EVERYDAY ELECTRONICS take reasonable precautions to protect the interests of readers by ensuring as far as practicable that advertisements are bona fide , the magazine and its Publishers cannot give any undertakings in respect of statements or claims made by advertisers, whether these advertisements are printed as part of the magazine, or are in the form of inserts.
The Publishers regret that under no circumstances will the magazine accept liability for non-receipt of goods ordered, or for late delivery, or for faults in manufacture.
Legal remedies are available in respect of some of these circumstances, and readers who have complaints should first address them to the advertiser.
TRANSMITTERS/BUGS/TELEPHONE EQUIPMENT
We would like to advise readers that certain items of radio transmitting and telephone equipment which may be advertised in our pages cannot be legally used in the U.K. Readers should check the law before using any transmitting or telephone equipment as a fine, confiscation of equipment and/or imprisonment can result from illegal use.
The laws vary from country to country; overseas readers should check local laws.
Constructional Project
CCD REVERB UNIT
ROBERT PENFOLD
Only the bucket-brigade can bring that rich ‘big hall’ sound to your instruments or recordings.
REVERBERATION is the sort of multiple echo that occurs when music is performed in a large hall.
In addition to hearing the sounds direct from the instruments, you also hear them via reflections from the walls, ceiling, etc.
These reflections take more round-about routes than the direct sounds, and are therefore delayed slightly relative to the direct sounds.
This effect occurs in practically any room, but it is more noticeable in concert halls or other large rooms, where the indirect sounds have to travel much further than the direct sounds, and are therefore delayed by a much greater amount.
This gives a jumble of echoes that will sometimes persist for as much as a few seconds after the original sound has ceased.
A problem with making recordings direct from electronic instruments is that they are totally free from any natural reverberation.
A small amount of reverberation will occur in the room where the recordings are played-back, but this will usually be so slight as to be unnoticeable.
If you listen to the recordings via headphones, they will be totally reverberation-free.
Most people find that some added artificial reverberation gives a more pleasant sound than ‘raw’ recordings from electronic instruments.
Some instruments do now have built-in reverberation effects, but this is a far from universal feature.
TECHNIQUES
There are several methods of adding a reverberation effect to recordings, but these basically boil down to three methods.
The best one is a digitally produced effect using a digital delay line having at least 16-bit resolution.
Unfortunately, this remains a complex and expensive method which is beyond the scope of a reasonably simple do-it-yourself project.
Even systems which use lower resolution tend to be quite complex and costly.
There are various mechanical methods, such as spring-line based units.
These probably offer the best low cost results, but they are large, heavy, and suffer from problems with acoustic and magnetic feedback.
Also, the spring-line units are becoming difficult to obtain these days.
The third approach, and the one utilized for this project, is to  use a tapped c.c.d. (charge coupled device) delay line.
These are analogue circuits which provide the delay using a series of f.e.t.s. (field effect transistors) operating as electronic switches, plus capacitors to hold the sampled voltages.
BUCKET BRIGADES
The basic way in which these c.c.d. lines operate is to have the first capacitor connected to the input so that it samples the input voltage.
This first capacitor is then connected to the second one in the chain via a buffet stage so that it passes on the sampled voltage.
Next the first capacitor is connected back to the input so that a fresh sample voltage is taken.
Meanwhile, the second capacitor passes its charge on to the third capacitor.
Then the first capacitor is coupled to the second one again, and so on.
This process is repeated indefinitely, with a stream of input samples being taken and passed along the chain of capacitors.
Of course, eventually the samples reach the last capacitor in the chain, where they provide the output signal before being discarded.
Delay lines which use this method are popularly known as ‘bucket brigade’ devices.
This term is derived from the fact that the way in which these circuits operate is roughly analogous to buckets of water being passed along a human chain (as in the old method of fire fighting).
The capacitors are the ‘buckets’, and the electricity stored in them is the ‘water’.
DELAY
A c.c.d. delay line provides a delay because it takes a certain amount of time for each input sample to be passed along the chain of capacitors and to finally emerge at the output.
The delay time is governed by two factors, which are the number of stages in the circuit, and the speed at which the samples are passed from one stage to the next.
In practice the rate at which samples are passed along the device is controlled by a clock oscillator.
On the face of it, the delay time in seconds is equal to the number of stages, divided by the clock frequency in Hertz.
In reality it is only half this figure.
This is due to the fact that the capacitors cannot simultaneously pass on their charge to the next stage and receive the charge from the previous stage.
Each capacitor first receives a sample, and then passes it on.
This means that there are only half as many samples in the circuit as there are delaying stages.
SYSTEM OPERATION
Most c.c.d. delay lines are not suitable for use in reverberation circuits.
The majority of c.c.d.s have around 500 stages, which is just about enough to give some sort of reverberation effect.
It is not quite enough to give the rich ‘big hall’ form of reverberation effect that we require in this case though.
Also, for this effect we do not require a single delay time.
Reverberation is produced by sounds arriving at the listener's ear having taken several routes of different lengths.
In order to produce a reverberation effect we must mix the direct signal with several delayed versions of itself.
In order to give a good effect a fairly wide range of delay times are required, and apparently it is important that the longer times are not exact multiples of the shortest time.
This reverberation unit is based on a c.c.d. delay line that has been designed specifically for operation in reverberation circuits.
It has tappings at stages 396/397, 662/663, 1194/1195, 17261727, 2790/2791, and 3328/3329.
Note that the output signals are taken from two stages rather than one, so that one stage can maintain the output while the other collects a new sample from the previous stage.
This gives stepped output waveforms instead of pulsed signals.
With suitable lowpass filtering either type of signal can be smoothed to produce a proper audio output.
However, much simpler filtering is adequate if the output signal is a stepped type.
BLOCK DIAGRAM
The block diagram for the reverberation unit is shown in Fig. 1.
A buffer amplifier at the input provides a fairly high input impedance of about 47k, and ensures that the subsequent stage is fed from a suitably low source impedance.
This second stage is a lowpass filter.
It is important that high frequencies are not allowed to enter the delay line as they would generate a severe form of distortion known as ‘aliasing’ distortion.
In this case high frequencies means anything above approximately half the clock frequency.
The latter is at approximately 20kHz, which means that the filter must severely attenuate frequencies above about 10kHz.
The filter is a third order (18dB per octave) type having a cut-off frequency of about 6kHz.
This means that the reverberation signal has something less than the full audio bandwidth, but a bandwidth of about 6kHz is sufficient to give a good effect.
A wider bandwidth could be achieved at the expense of a shorter delay time, but this would not give such a good reverberation effect.
The two-phase clock signal for the delay line is provided by a matching clock generator chip.
This also generates a bias signal required by the delay line chip.
With an operating frequency of about 20kHz, the clock circuit gives a delay time from the first tapping of about 10mS.
This is the minimum that will give a reverberation effect.
The delay time from the final stage is around 85mS.
This is adequate to give a good reverberation effect, but the unit cannot provide very long reverberation times of the type associated with spring-line reverberation units.
MIXER
A mixer stage combines the six output signals from the delay line into a single signal.
This stage also provides a small amount of filtering.
However, another three stage active lowpass filter provides the main filtering, and gives a step-free output signal.
A second mixer stage combines the non-delayed signal with the reverberation signal.
A level control permits the strength of the reverberation signal to be controlled.
Although many delay line effects make use of clock modulation to vary the delay time, this does not give good results in a reverberation unit.
Significant variations in the delay time produce quite strong frequency modulation.
This can give decidedly unmusical results if the unit is fed with a polyphonic signal.
In fact it tends to generate some very discordant results.
It is possible to obtain extended reverberation times by feeding some of the delayed signal back to the input of the unit.
In practice this seems to give a rather poor effect though, and this feature has not been included in the final unit.
CIRCUIT OPERATION
The full circuit diagram for the CCD Reverberation Unit is shown in Fig. 2.
IC1 acts as the input buffer stage, and it is a simple operational amplifier non-inverting mode circuit.
Preset VR1 permits the bias voltage on IC1 to be varied.
In fact the entire circuit is either directly or indirectly biased from this potential divider.
VR1 is adjusted to optimise the large signal handling capability of the circuit.
This is limited by the delay line chip, but signal levels of up to at least one volt r.m.s. can be accommodated.
IC2 is used as the buffer stage in the active lowpass filter ahead of the delay line.
IC3 is the delay line chip, and this is a PMOS device.
R7 to R12 are source load resistors for buffer stages in IC3.
It seems to be the convention for c.c.d. delay line chips to have separate clock generators, and in this case IC7 provides both the two phase clock signal and a bias voltage for IC3.
Fig. 1.
Block diagram for the CCD Reverberation Unit.
Fig. 2.
Complete circuit diagram for the CCD Reverberation Unit.
A two-phase clock signal is merely an anti-phase type (i.e. as one signal goes low the other goes high, and vice versa).
CCD delay lines tend to be fussy about the clock signal timing, but using the matching clock chip should avoid any problems.
IC4 operates as a conventional summing mode mixer which combines the six output signals of IC3.
Capacitor C8 provides the first stage of lowpass filtering.
With real reverberation the sounds that take the longest to arrive are the weakest.
The input resistor values in the mixer circuit (R13–R18) have therefore been chosen to simulate this effect by giving progressively larger attenuation from tapping one through to tapping six on IC3.
IC6 is the buffer amplifier in the main output filter, and this is identical to the filter used at the input of the delay line.
The output mixer is based on IC5, which is another summing mode circuit.
The unit provides unity voltage gain on the straight-through signal.
VR2 enables the reverberation level to be varied from zero, up to a maximum level which is comparable to that of the straight-through signal.
Power is provided by a 9 volt battery.
The current consumption is about 10 milliamps, and a ‘high power’ PP3 size battery is adequate.
However, if the unit is likely to receive a great deal of use a higher capacity type (such as six HP7 size cells in a plastic holder) would probably be a more economic means of powering the unit.
Fig. 3.
Printed circuit board component layout, interwiring and full size copper foil master pattern for the Reverb.
CONSTRUCTION
Details of the printed circuit board are provided in Fig. 3, this board is available from the EE PCB Service , code EE795.
The board is a single-sided design, but a few short link wires are required.
Be careful not to overlook any of these (there are six of them).
Note that IC3, IC4, IC6, and IC7 are all MOS devices, and that they therefore require the normal anti-static handling precautions to be observed.
Even if you do not normally bother too much about this type of thing, it is strongly urged that great care be taken when dealing with IC3.
This is a complex device which would be expensive to replace.
Holders should be used for all the MOS devices and it is a good idea to use i.c. holders for the other three integrated circuits as well.
Leave the i.c.s.
in their anti-static packing until the unit is finished in all other respects.
They should then be plugged into their holders, handling them no more than is really necessary, and avoiding any obvious sources of static electricity.
There is a minor problem with IC3, which is its unusual 12-pin d.i.l. encapsulation.
It is effectively just an ordinary 18-pin d.i.l. encapsulation, but with the middle six pins absent.
This component can be fitted into an ordinary 18-pin d.i.l. holder, but it must have the middle six pins trimmed away before it will plug into the board.
In other respects construction of the board is quite straightforward.
At this stage only fit pins to the board at the points where the connections to the off-board components will eventually be made.
CASE
A case having outside dimensions of about 160 by 140 by 50 millimetres or more is adequate to accommodate everything.
The prototype was housed in a plastic instrument case having aluminium front and rear panels, but there are plenty of cases of about this size to choose from.
The two controls and two sockets are mounted on the front panel.
3.5 millimetre jack sockets have been used for JK1 and JK2, but you can obviously use an alternative such as phono sockets or standard jacks, if these will fit in better with other equipment.
The exact layout is not too important, but as with any project, try to avoid layouts that result in lots of long and crossed-over wiring.
The printed circuit board is mounted on the base panel of the case using either plastic stand-offs or 6BA bolts plus nuts and spacers The board is mounted towards the rear of the case, leaving sufficient space for the battery in front of or to one side of the it.
The battery can be held in place using a double-sided adhesive pad or a home-made aluminium fixing bracket.
To complete the unit the small amount of point-to-point wiring is added, using multi-strand connecting wire or pieces of ribbon cable.
This wiring is included in Fig. 3.
ADJUSTMENT AND USE
This unit is intended for operation with high level input signals of around one volt r.m.s.
With signals of about this level a signal to noise ratio of 70dB to 80dB should be obtained.
Low level signals will give a lower (and almost certainly inadequate) signal to noise ratio.
The unit can only be used successfully with low level inputs, such as microphones and low output guitar pick-ups if it is preceded by a suitable preamplifier.
Initially set VR1 at a roughly mid-setting.
With an input signal connected to the unit and the output monitored using an amplifier/speaker or headphones, the effect will probably be very apparent with VR2 well advanced.
It is most noticeable on any intermittent signal.
If the effect is not present, or the unit is clearly malfunctioning in some way, switch off at once and recheck all the wiring.
If suitable test equipment is available, VR1 is adjusted for symmetrical clipping using the standard techniques.
In the absence of suitable test gear, simply give VR1 a setting that provides low distortion at high signal levels.
There will probably be a small range of settings that give satisfactory results.
Set VR1 at roughly the middle of the range.
Layout inside case of completed Reverb.
Constructional Project
VEHICLE WATCHDOG
CHRIS WALKER
An ingenious easy-fit intruder deterrent.
Will also complement existing security systems without the need to modify existing wiring.
DURING a conversation about car theft and security devices, a colleague recently expressed the opinion that a simple flashing light, such as a light emitting diode, placed inside the car would be sufficient to deter many opportunist thieves.
Mounted in a conspicuous position and in a convincing enclosure, a would-be thief may not wish to risk a break-in for fear of attracting attention from an alarm system, even though no such system may exist.
BLUFF
One may wonder why it is necessary to fit such a ‘bluff’ unit when a proper working alarm could be constructed for little extra outlay.
There are, however, two good reasons for fitting a visual deterrent:
Many budget-priced car alarms have no visual indication that they are in operation and an additional flashing light could draw attention to this fact.
Ordinary window stickers warning of the presence of an alarm are easily bought nowadays, and they are not very convincing.
Secondly, a simple flasher could be made entirely independent of the car's electrical system thus being extremely quick and easy to install and requiring no modification of the existing vehicle's wiring.
It must be stressed that the Vehicle Watchdog is not a burglar alarm.
It is merely intended as a very easy-to-fit deterrent which a car owner may use in place of an alarm or, as in the author's car, the unit can complement an existing security system which previously had no visual deterrent.
SPECIFICATIONS
Building a flashing l.e.d. circuit is one of those designs that sounds trivially easy until the stop to consider the design requirements for its application.
It was decided that, in order to make the unit a worthwhile compromise to fitting a complete theft alarm, it must be independent and require no connection to the vehicle.
Battery operation is, therefore, a logical requirement.
However, current consumption must be kept sufficiently low to provide an acceptably long battery life.
Since the unit will be placed in a conspicuous position, the flashing light could be an annoying and dangerous distraction to the driver whilst the vehicle is in motion.
Therefore, the l.e.d. must not flash when the car is being driven.
In order to meet these criteria, the Vehicle Watchdog performs as follows: providing the vehicle has been stationary for at least one minute, a 15mA current pulse will brightly light an l.e.d. for 0.02 seconds once every two seconds.
The flashing stops as soon as the car undergoes appreciable movement such as occurs during driving.
Average current consumption is about 170µA which ensures a battery life in excess of twelve months if alkaline cells are used.
After over two years of use, the prototype Vehicle Watchdog has successfully fooled every passenger into believing that it is a passive infra-red detector mounted on the dashboard.
It has also trained the designer to become a rather convincing fibber!
HOW IT WORKS
The block diagram of the unit is shown in Fig. 1.
The vibration sensor is used to detect movement of the vehicle.
This sensor consists of an ordinary mercury tilt switch mounted at an angle so that the small mercury bead encapsulated in the switch easily rolls on and off the contacts as the switch encounters movement.
This ‘make and break’ action causes the monostable to generate a brief pulse which resets the one minute timer.
Therefore, as long as the vehicle is in motion, the mercury switch repeatedly triggers the monostable which prevents the timer running for one minute.
If the vehicle should become stationary, the timer is allowed to run and, after one minute, it switches on the flasher circuit to operate the l.e.d.
The monostable is an edge-triggered device which resets the timer every time the mercury rolls onto the switch contacts.
So, even if the car is parked at an angle where the mercury switch is continuously closed, the timer will be allowed to operate providing the vehicle remains stationary.
MONOSTABLE AND TIMER
The circuit diagram of the Vehicle Watchdog is shown in Fig. 2.
In the interest of low power consumption the device is designed around a CMOS integrated circuit type 4093 which is a versatile package containing four two-input NAND gates with Schmitt triggers on their inputs.
Gates IC1c and IC1d make up the monostable along with timing capacitor C1 and resistor R2.
The output from the monostable (pin 10) is normally ‘high’(battery positive voltage, 4.5V), but as the vehicle encounters movement and mercury switch S1 closes pin 13 is pulled down to 0V causing the output from IC1d pin 11 to go high.
The voltage at pins 8 and 9 must instantaneously follow pin 11 and go high as well, but this voltage falls exponentially as capacitor C1 charges up.
The result is that pin 10 goes low for a fixed period determined by the values of C1 and R2; approximately 0.1 seconds with the values given.
Capacitor C2 charges via resistor R4 such that the voltage at pin 5 of gate IC1b gradually rises from 0V, taking about 60 seconds to reach a level recognised as a logic 1 by the CMOS NAND gate IC1b.
Every time the monostable output pulses low, transistor TR1 switches on and capacitor C2 loses a substantial amount of its charge via resistor R3 and down to 0V through the emitter of TR1.
Thus the monostable essentially resets the one-minute timer back to zero.
Fig. 1.
Block diagram of the Vehicle Watchdog deterrent.
FLASHER CIRCUIT
When the voltage at pin 5 reaches a logic 1 level, gate IC1b acts as a relaxation oscillator.
Fig. 3 shows the basic circuit of such an oscillator.
Suppose the output of the Schmitt trigger inverter is initially high.
Current will flow via resistor R to charge up capacitor C and the voltage V c rises exponentially as shown.
When V c reaches the logic 1 input threshold (V±) the output of the inverter will go low and C will start to discharge.
Therefore V c falls until it reaches the lower logic 0 threshold (V-), upon which the output once more goes high and the cycle repeats.
The time period of one complete cycle of this oscillator is given by the formula: where V± and V- are the high and low switching thresholds of the Schmitt trigger input.
In order to create a mark-to-space ratio greater than unity (i.e. output high/low times unequal) the resistor/diode arrangement shown in Fig. 4 is used.
The capacitor now charges via R but when the output is low the forward-biased diode D allows a discharge current to pass through Rd as well as R. The discharge time (output low) is, therefore, much shorter.
Referring back to the main circuit diagram, Fig. 2, resistor R5 can be seen to be the charge resistor for capacitor C3, whilst a rapid discharge occurs predominantly through R6.
The oscillator output is inverted by gate IC1a and then buffered by transistor TR2, to illuminate light emitting diode D2.
Resistor R7 limits the current through D2 to 15mA.
The visibility of the flashing l.e.d. obviously depends on the level of ambient light in the car; it is most eye-catching at night.
Constructors may, if they wish, use an ‘ultra bright’ type of l.e.d, but beware; these devices achieve high illumination by narrowing down their angle-of-view, so the overall result may be to make the l.e.d. less conspicuous.
CONSTRUCTION
The prototype Watchdog is constructed in a plastic case measuring 112mm×62mm×31mm which houses the circuit board and three AA-size batteries.
Only one hole needs drilling, 6.5mm diameter to accept a panel mounting clip for l.e.d.
D2.
Before inserting the l.e.d. clip, clean the front panel with meths and take some time to create an impressive design using rub-down lettering and symbols.
Remember that the success behind this unit relies on a convincing external appearance.
After the design is finished the transfers must be protected by a couple of thin coats of clear spray-on lacquer otherwise they will scratch off.
Be sure to use a lacquer which will not lift the transfers off the panel.
After an hour's careful work, the designer found (to his dismay) that one brand of lacquer caused all the lettering to lift off and float merrily across the case!
Fig. 2.
Complete circuit diagram for the Vehicle Watchdog.
Fig. 3.
Basic circuit and waveform of a relaxation oscillator.
Fig. 4.
Resistor/diode arrangement to create a mark-to-space ratio where the output high/low times are equal.
Lettering of front panel, as seen from driver's seat, and ‘dummy’ connecting lead from rear of the unit.
CIRCUIT BOARD
Excluding the batteries, all components are mounted on a piece of 0.1in. matrix stripboard measuring 16 strips by 22 holes as shown in Fig. 5.
Cut the board to size with a hacksaw and cut out two corners 8mm square to accommodate the corner pillars in the case.
Next, using a cutting tool or a twist drill bit, make the ten breaks in the copper tracks according to the diagram.
Referring to the component layout diagram, Fig. 5, solder in a 14-pin d.i.1. socket for IC1 (but do not insert the integrated circuit just yet) and then solder eleven wire links onto the board, using tinned copper wire for this job.
The remainder of the components may now be soldered into place in any convenient order.
Take care that the tantalum capacitors C2/C3, transistors TR1/TR2 and the diode D1 are inserted the correct way around as shown in the component layout.
The semiconductor devices are all fairly sensitive to excess heat, so don't fry them during soldering!
When mounting the mercury switch S1, position the switch body about 10mm above the board to allow it to be angled to adjust its sensitivity.
Before inserting l.e.d.
D2 identify the cathode lead, it is the lead adjacent to the small flat edge on the l.e.d. body (the cathode is marked k on the diagram).
Bend the l.e.d. leads through a right angle and solder it in place so that it will protrude through the panel mounting clip when the circuit board is placed in the case.
Blu-tak can be used to hold the l.e.d. steady whilst soldering.
BATTERIES
The three AA-size batteries are held in a flat 3-cell battery box.
Connections to these boxes are usually made via a PP3 style clip-on connector and the wires to this clip are soldered to the circuit board, red is positive, black is negative.
Due to the high resistance and small current involved in this circuit, and to preserve battery life, it is now beneficial to clean the copper side of the circuit board with a rag soaked in meths to remove finger grease which may otherwise cause leakage currents to flow.
The final stage of circuit board construction is to insert the integrated circuit IC1 with the identification notch next to the mercury switch.
This is a CMOS technology device and, to some extent, prone to damage from static electricity which can build up on the human body.
Discharge yourself by touching an earthed object before handling the i.c. and then try not to touch the pins.
TESTING AND INSTALLATION
Insert three fresh batteries and allow the circuit board to remain stationary for at least one minute.
After this time D2 should start to flash once every two seconds.
Give the board a good jolt and the l.e.d. should stop flashing for another minute.
If the unit fails to operate, check your construction.
Pay particular attention to your soldering and make sure there are no solder blobs between adjacent tracks.
Also ensure that all the components are correctly located.
Place the circuit board and batteries inside the case and clip the l.e.d. into its holder.
It is quite important that the board does not move about as this will upset the sensitivity of the vibration detector.
Secure the board if necessary.
Mount the case in a conspicuous position inside the vehicle.
Double-sided adhesive pads are very useful for this purpose and are easily removed at a later date.
ADJUSTMENT
When the unit is in place, adjust the angle of the mercury switch S1 so that the gentle vibration experienced as the car is being driven causes the l.e.d. to stop flashing.
Start with the switch at about 45 degrees to the horizontal and adjust as necessary.
When you are happy with the sensitivity of the unit, you can improve its authentic appearance by arranging for a short length of ‘bluff’ wire to emerge from the case and disappear under the dashboard at a convenient location.
You can now forget about the Vehicle Watchdog as it will automatically switch itself on and off and the extensive battery life will ensure long and reliable service.
Fig. 5.
Stripboard component layout and details of breaks required in the underside copper strips.
The completed board mounted in its case can be seen in the photograph above.
Layout of components inside the case showing position of the battery pack.
Regular Clinic
CIRCUIT SURGERY
MIKE TOOLEY B.A.
Welcome again to Circuit Surgery, our regular clinic for readers' problems.
In this month's Surgery we shall be describing a simple method of measuring unknown capacitors.
We also have details of a low-battery indicator circuit which will provide warning of impending battery failure in portable equipment.
We begin, however, with some points arising from an earlier Surgery:
Go/no-go transistor tester revisited
The simple go/no-go transistor tester described in April's EE seems to have been popular with quite a few of our readers and several of you have written with specific queries concerning the circuit used.
Two of these are worthy of a wider audience and thus I make no apology for including them in this month's Surgery!
Firstly,Martin Coleman from High Wycombe has taken me to task for not including a power on/off switch in the circuit of Fig. 4 (April ‘92).
Martin thinks that this was probably an oversight on my part and suggests that a simple s.p.s.t. toggle switch should be incorporated in the positive supply from the 9V battery.
In my defence, I should have pointed out that, provided the transistor under test (TR1) is removed from the tester, there will be virtually no current drain from the supply.
The reason for this is simple that there is no d.c. path to ground in the oscillator stage and the d.c. amplifier stage (TR2) will consume only a minimal value of collector leakage current whilst the device is in the ‘off’ state.
There is thus no need for an on/off switch — just remember to unplug TR1!
Secondly,Joe Kendal has written from Otley, West Yorkshire, to ask if I can clarify some of the thinking behind the design of this circuit.
In particular, Joe has asked if I can justify the values selected for the base resistors.
Taking the second (d.c. amplifier) stage first, TR2 is operated under saturated switching conditions.
When TR2 is conducting its collector voltage will be approximately zero and the l.e.d., D3, will become illuminated as a consequence.
Now the voltage drop across a typical red l.e.d. will be about 2.2V when it is supplied with a normal value of forward current (in the range 10 to 18mA) and hence a voltage of about 6.8V (9–2.2V) will appear across R6.
The current flowing in R6 can thus be determined from Ohm's Law.
This current is also the collector current for TR2.
Hence, when switched ‘on’, TR2 will operate with a collector current of 6.6V/470Ω = 14mA.
The BC108 is rated with a minimum current gain of 150.
Thus any base current in excess of 14mA/150 (93µA) will drive the transistor into saturation.
The value of R5 is actually not particularly critical; it just has to provide a minimum of 93µA to the base of TR2.
The a.c. signal present at the collector of TR1 is typically in the range 2 to 4V pk-pk (under no circumstances can it exceed 9V pkpk by virtue of the 9V d.c. supply).
Consequently, the d.c. voltage (after rectification by D1 and D2) which appears at the junction of C5 and R5 will be typically between 1V and 2V (remember that we are using half-wave rectification).
At the other end of R5 (the base of TR2) we will need a voltage of 0.6V in order to forward bias the base-emitter junction and turn TR2 ‘on’.
Hence the voltage drop across R5 will be in the range 0.4V to 1.4V.
Taking the smallest of these values we could find the value of R5 that will produce a current of 93µA to the base of TR2.
However, to be on the safe side, we will find the value of resistor that will yield at least twice this value.
Again.
Ohm's Law comes to the rescue and we obtain a value of 0.4V/186µA or 2.15k.
The nearest preferred value is 2.2k and hence this was the value specified.
A somewhat similar argument can be applied to the oscillator stage, TR1, except for two important additional considerations.
Firstly, the base bias for TR1 is applied via R1 and R2 in series .
However, these two resistors also form part of the phase shifting network within the Twin-T feedback network and are thus instrumental in determining the frequency of oscillation.
Secondly, TR1 operates under a.c. (rather than d.c. conditions).
The mean value of collector voltage will be somewhere between 2V and 3.5V depending upon the current gain of the individual transistor used.
The values of R1 and R2 must, therefore, represent something of a compromise between that required for correct d.c. bias and that required for a sensible frequency of oscillation!
Capacitance adapter
Most multimeters have ranges which are designed for measuring voltage, current and resistance.
Only a few are versatile enough to permit measurement of capacitance.
Following the two multimeter add-ons described in the last two instalments of Circuit Surgery, several readers have suggested that a simple device for directly measuring capacitance would be extremely useful.
With this in mind, I set about designing a circuit which could be used with an existing meter (preferably a digital type).
The capacitance adapter can be highly recommended to anyone who needs a quick and effective means of measuring polyester, polystyrene and ceramic capacitors.
The complete circuit of the capacitance range extender is shown in Fig. 1.
The circuit uses a single 555 timer connected as an astable oscillator which produces a square wave output at approximately 200Hz.
The output of the oscillator is passed to the unknown capacitor and an integrating charge-pump detector arrangement is used to provide a direct current to operate the external multimeter (switched to the 2mA d.c. current range).
Assuming that a 3½ digit digital multimeter is available, the instrument will provide readings over the range 1nF to 1.999µF.
This is perfectly adequate for the majority of non-electrolytic capacitors including polystyrene, polyester and ceramic types.
To keep the instrument as simple as possible, no voltage regulator has been incorporated to keep the d.c. supply to IC1 at a constant level.
It is, therefore, essential to calibrate the instrument each time it is used and this process will require a reasonably close-tolerance non-electrolytic capacitor of 1µF.
The multimeter should be switched to the 2mA d.c. range and the 1µF calibrating capacitor connected to the unknown capacitor terminals.
VR1 should then be adjusted for a reading of exactly 1,000.
The 1µF capacitor should then be removed and the instrument is now ready for use.
It must be said that this technique for measuring capacitance is not particularly new.
However this particular design is novel in one respect; the secret in keeping the instrument linear lies with placing the calibrating resistor within the frequency determining circuitry rather than in series with the meter.
This is a very real disadvantage of some other published designs.
Hence, instead of introducing an additional variable resistance in series with the meter (and consequently suffering impaired linearity), our capacitance range adapter is calibrated by adjusting the frequency of the square wave source!
Low battery indicator
The terminal voltage of a battery usually remains reasonably constant during its normal discharge period but then falls dramatically at the end of its working life.
Hence, some method of indicating the state of a battery can be extremely useful in any item of portable equipment.
This is particularly true when the equipment in question is powered by nickel cadmium (NiCd) batteries.
With this in mind,Neal Taylor has written to me from South Devon with a request for a simple battery indicator.
Neal writes:
‘I have a portable transceiver which operates from a stack of nickel cadmium batteries.
Depending on use, these will last for between 60 and 90 minutes of continuous operation.
Unfortunately, I get little warning when they become exhausted — the set simply dies (often in the middle of a transmission).’
Fortunately, the answer to Neal's problem is really quite simple.
All that is required is an l.e.d., an n.p.n. transistor and an appropriately rated Zener diode connected as shown in Fig. 2.
The Zener voltage should be chosen so that it is approximately 1V less than the nominal on-load battery voltage.
As an example, assuming that Neal's transceiver uses an 8.4V d.c. supply, a Zener rated at 7.5V would be quite satisfactory.
The l.e.d. will become illuminated when the battery condition is ‘good’ and will become extinguished when the terminal voltage of the battery falls below about 8.1V.
Neal will thus be alerted to the impending failure of his battery.
Finally, if the required Zener voltage does not fall within the range of preferred values available, readers should remember that two (or more) Zener diodes can be connected in series to produce any desired voltage rating.
As an example, a 6V Zener can be realised by simply connecting a 2.7V Zener in series with one rated at 3.3V!
Next month:In next month's Surgery we shall be describing a simple pulse repetition frequency comparator which can be used for synchronising the speed of two engines.
We also provide details of a simple AM tuner which can be added to an audio system which only has an FM reception capability.
For good measure, we have some information on the design of analogue to digital converters (ADC) and selecting basic logic gates to perform the standard AND, OR, NOT, NAND and NOR functions.
In the meantime, if you have any comments or suggestions for inclusion in Circuit Surgery, please drop me a line at: Faculty of Technology, Brooklands College, Heath Road, Weybridge, Surrey, KT13 8TT.
Please note that I cannot undertake to reply to individual queries from readers however I will do my best to answer all questions from readers through the medium of this column.
Fig 1.
Circuit of the capacitance adapter
Fig. 2.
Simple battery condition indicator.
FOR YOUR ENTERTAINMENT
by Barry Fox
London Show
The annual absurdity of the spring ‘Brown Goods’ trade show continues.
(The name dates back to the days when all home electronics was a horrid brown colour — now it is an almost nasty black).
Whereas all other countries stage annual, or biennial, exhibitions of new consumer electronics technology, either for the trade and press, or public, or both, Britain still clings to the crazy hotel system.
Rival manufacturers book suites in London hotels and galleries, and display their wares to the trade.
This year over 40 exhibitors spread themselves between a score of hotels and venues, apparently selected on the basis of being as far apart as possible.
Philips had a marquee in Battersea Park.
Nokia was at the Imagination Gallery off Tottenham Court Road.
Toshiba was at the Institute of Directors in Pall Mall.
Several firms had booked hotel suites in the Park Lane and Marble Arch areas and Sony had leased three floors in Landmark House in Euston Road.
Sharp even split its exhibit between two venues, the company's showrooms in Vere Street near Oxford Circus and a hotel near Marble Arch.
‘It's all a bit evolutionary’ said one jaded visitor.
What he meant was that you had to cover a lot of ground to find anything newsworthy.
Widescreen Demo
Perhaps the most significant event of the London trade shows was the last minute decision by satellite broadcaster BSkyB, to transmit excerpts from feature films in 16:9 wide screen D2-MAC.
Agreement was reached only a couple of days before the show, after negotiations between BSkyB, Astra, Philips, the Eureka project handling HDTV and UK satellite receiver manufacturer Pace.
Although the parties are guarded about details of the deal, it seems that Astra loaned Channel 29 for the occasion, BSkyB provided the movie material, the EC chipped in some money and Philips did deals with Pace to produce wide screen decoders.
This was necessary because BSkyB scrambled the material using Videoguard, a new scrambling system which appears to be halfway between VideoCrypt and EuroCrypt.
Both Philips and Nokia were demonstrating wide screen pictures live from the satellite source.
The event is a watershed, because it shows a degree of commitment to wide screen TV from BSkyB never previously seen.
The demonstrations were important too because they included sets with 28in. screens.
So far 36in. has been the only 16:9 size.
Nokia had three 16.9 wide screen TV sets running side by side, under domestic viewing conditions; a 36in. 16×9 at £2150, 32in. at £1400 and 28in. at £1100.
Each could be switched to demonstrate 4×3 pictures zoomed to wide screen format.
This, of course, reduces the number of scanning lines available for the displayed picture.
On the 36in. and 32in. screens the zoomed format made the pictures look very coarse.
But on the 28in., the picture looked clean and crisp.
This suggests that the 28in. screen size may well be the break point between acceptable and unacceptable viewing when the picture is zoomed.
Also, whereas 36in. and 32in. sets are still too large for most living-rooms, the 28in. is of manageable size, and weight.
The visual impact of wide screen viewing still carries through on a 28in. screen, although it is unlikely that the benefit of wide screen would come through on smaller screens.
Dual Standards
For me, by far the most existing innovation at this year's show was a new VCR from Aiwa, a subsidiary of Sony.
To be strictly accurate there are two new VCRs, each costing under £400.
Both play a very clever trick which will answer the prayers of video users all round the world.
There will also be a ‘stand-alone’ box, costing around £250, which connects to existing VCRs.
The trick is this.
The VCR can play a tape of one standard, either NTSC or PAL, display it on any PAL or NSTC TV set, and make a copy onto any other VCR in either PAL or NTSC.
The only other VCR on the market which can do this is made by Panasonic and costs £1800.
Most people who want to watch tapes from abroad must pay a video or photographic shop at least 25 pounds to transfer just half an hour's viewing.
The NTSC TV system used in the US and Japan builds its pictures or fields, each with 262.5 lines.
The fields interlace on screen to create the illusion of full pictures.
The European PAL system works in the same way, but with 625 lines, 312.5 per field.
NTSC displays 60 fields a second.
PAL uses 50.
This is why VCR and TV sets of one standard will not normally play tapes of another standard.
Several manufacturers, including Pioneer, Panasonic and Mitsubishi, now sell video disc players and VCRs which can play NTSC tapes through some PAL sets.
They do this by modifying the NTSC colour signal to mimic PAL, and relying on the fact that many modern PAL TV sets can by good fortune cope with 525 lines and a 60Hz field rate.
But these systems are rogues because they do not convert the NTSC signal into PAL, so it is not possible to make a PAL copy of an NTSC original.
Also some TV sets are confused by the fudged signal and display pictures which are either too small or unstable.
By Memory
The Aiwa VCR contains a solid state memory which stores each TV field as it is read off tape.
It then reads the field from the memory and out to a TV set or other VCR.
While reading an NTSC signal out to a PAL TV or VCR, the memory reads 50 of the stored lines twice over to build the 262.5 line scanning structure up to 321.5 lines.
The memory also skips every sixth field that is stored, thereby converting a 60Hz sequence into a 50Hz sequence.
The VCR also converts the colour coding system from NTSC to PAL, by changing the frequency at which the colour information is carried piggyback on the black and white information.
So the VCR delivers a true PAL Signal.
To convert PAL to NTSC, the memory reads out every sixth field twice, to increase the field rate from 50Hz to 60Hz.
At the same time it converts the colour coding frequencies from PAL to NTSC and combines 50 lines of each field to reduce the scanning pattern from 312.5 lines to 262.5 lines.
The picture delivered to a PAL screen from an NTSC tape are not as good as the original, but they will be quite good enough for most viewers wanting to watch family tapes from abroad.
They will also let people buy tapes on holiday and either watch or copy them back home.
This is likely to distress the movie industry which has relied on the NTSC/PAL standards barrier to police its copyright deals with different countries.
Professional converters, as used by broadcasters to screen US tapes in Europe, give better quality.
They store up to eight fields at a time, and use computer intelligence to average and interpolate the picture information that is added or subtracted.
But these systems cost tens of thousands of pounds — in the early days of TV broadcasting, they cost hundreds of thousands!
INTERFACE
Robert Penfold
As promised last month, this article includes the train controller listing (see also April issue).
This is written in QBASIC (as supplied with MSDOS 5), but it will also run as a Quick BASIC program.
It should be possible to convert it to other BASICs without too much difficulty.
It is written on the assumption that the digital to analogue converter is at address & h300 , and that the direction is controlled by bit 0 at address & h308 .
If different addresses are used, these must be substituted in the appropriate program lines.
Also, some modification to the program will be needed if one address is used for both speed and direction control, as discussed in a previous Interface article.
Details of how to use the program will not be given here, as it is very easy to use, and provides on-screen prompts.
Keyboard Control
The basic method of keyboard control used in the original program was to have the train accelerate while the appropriate key was held down, and brake while another key was operated.
This type of control works well with most 8-bit computers where the keyboard is monitored by input ports, and direct reading of each key (or something close to it) is possible.
It does not seem to work well with some 16 bit computers as they have quite complex keyboard electronics, and rather indirect means of reading the keys.
With both the Atari ST and the PCs there is a micro-controller to read the keyboard, with a serial link to the main processor.
This removes a lot of work from the main processor which no longer has to bother with keyboard scanning, buffering, etc.
On the other hand, it can be difficult to reliably monitor keys on an ‘up’ or ‘down’basis.
The keyboard circuits are designed to detect the order of key presses rather than the duration of each key press.
It seems to be more practical to opt for control on some form of ‘toggling’ basis, which is the method of control used in this program.
Joystick
If you have a joystick and a games port for your PC it might be interesting to try this as the input device for a train controller.
The ‘firebutton’ could be used for direction control, with the ‘stick’being used to control the speed.
Alternatively, the ‘stick’ could be used for both functions, with the spring-loaded central position being used as the ‘off’setting.
This would leave the ‘firebutton’ free to operate as a brake.
Remember that the values read from the games port can be mathematically manipulated before being sent to the controller circuit.
This feature can be used to provide simulated inertia and momentum.
Some BASICs provide easy access to the games port (usually in the form of STICK and STRIG functions), and with a suitable language this method of control should be well worth investigating.
Languages
In last month's Interface article I should have mentioned that the FST Modula 2 program is available from PDSL, Winscombe House, Beacon Road, Crowborough, Sussex, TN6 1UL (Tel. 0892 663298, Fax 0892 667473).
This program is on three disks which have catalogue numbers 2033A/B/C.
It is a popular program which should be available from other PC shareware companies, but not under these catalogue numbers.
It is worth mentioning that with PDSL disks you are guaranteed the latest available version of any program.
You need to be wary of PC shareware companies that offer very cheap disks, as these often contain versions of programs that are literally years out of date.
Not so long ago I obtained some cheap PD/shareware disks where some of the programs were of 1986 and 1987 vintage!
None of the disks contained up-to-date programs.
There are quite a range of PC shareware languages available these days.
Some of these are quite interesting to try out, but in many cases the cost of registering is not very competitive with commercial software.
Competition amongst producers of commercial PC software has made it difficult for shareware authors to significantly undercut them and still charge a worthwhile amount for their products.
The A86/D86 assembler and debugger is a popular program, and is now available in an updated form on disk No. 1930.
There are a couple of interesting C compilers on disks 1199 (‘Small C Compiler’) and 1489 (‘Personal C Compiler’).
There is an interesting public domain version of Prolog 2 on disk 2547.
I think that I am correct in saying that the two original high level computer languages were Cobol and Prolog, which were for developing business and general/scientific applications respectively.
This version of Prolog is public domain, so there are no registration fees.
However, there is little on-disk documentation, and you will probably need a book on Prolog in order to use the program.
Reliability
Anyone involved with PCs can hardly have failed to notice the dramatic price reductions in PCs over the last year.
New 8088 based computers have virtually disappeared from the scene, and now 80286 based PCs seem to be going the same way.
They simply have no significant cost advantage over 80386SX computers.
Even 33MHz 80486 based computers are becoming affordable.
So what is the catch?
My recent PC buying experiences, and those of several PC owning friends, would suggest that the problem with many of the bargain PC's currently on offer is that they are not very reliable.
To be strictly accurate about it, they are mostly very reliable once they are up and running properly.
The problem is that many of the PCs currently on offer have not been thoroughly tested prior to despatch, and come complete with one or more faults.
These vary from things like ports that do not work because the sockets do not connect to their expansion card, to obscure faults such as motherboards which only work when the weather is hot.
Some are simply not set up correctly.
Now would seem to be a good time to buy PCs, but there could well be a certain amount of hassle before your new wonder computer is up and running properly.
Next month we will return to general computer hardware matters, with a look at some simple pieces of hardware to read bar codes.
SHOP TALK
with David Barrington
Switch-Mode Power Supply
There are a number of factors to be considered if you wish to get the best from the Switch-Mode Power Supply .
Transistor TR2 needs to have an H f e of at least 500 or greater and a BC109C was chosen here.
The BC109C was selected as it claims to have a spread from 380 to 800 at 2mA and is more likely to be within the spec we require.
The standard BC109 quotes a range of 180 to 800 and you are less likely to find you have a suitable device.
The device with the suffix ‘B’ only quotes 180 to 480 and does not attain the level we want.
Only good quality capacitors should be used in this project.
The filter electrolytics C3 and C5 must have a low ESR (‘effective series resistance  no closing’) for the reasons mentioned in the article.
These should be available from most good component suppliers and are certainly listed in the Maplin catalogue.
The large main smoothing electrolytic C1 must be rated at about 5A ripple current.
The one used in the model is listed as 4.9A ripple and is a five terminal, long life, p.c.b.
mounting device purchased from Electromail (telephone 0536 204555  ), code 104–382.
This capacitor seems fairly expensive and other types can be used, but they must be able to sit on the p.c.b.
and have almost identical ratings.
The ‘flyback diode’ D1 must be a fast recovery type and be capable of carrying the peak inductor current.
The BYW29/100 type is listed by Cricklewood Electronics and the BYW80/150 device by Maplin, code UK63T.
The bridge rectifier should be one rated at 6A and may be difficult to find in a d.i.l. configuration.
As the bridge is not mounted on the board but the metal chassis plate, the standard ‘square’ type can be used.
The square bridge is the most common type stocked and the 6A version is usually rated from about 200V p.i.v. to 600V p.i.v.
The low ohm, high wattage resistors used are wirewound types and should be available generally.
However the 6W type seems scarce, so its a case of using 3W (doubling up where indicated) or a 7W type.
The Darlington transistor and thyristor should be widely available and not cause concern.
They are certainly listed in the Free Cricklewood components catalogue.
The two heatsinks for the Darlington transistor and diode D1 should also be  readily available.
If you do experience problems they are stocked by Maplin, codes FG51F and JW27E.
Now for the inductors.
The Feroxcube core and former were purchased from Electromail, code 228–270 and the DT2534 bobbins from Maplin HX10L.
Suitable 80VA mains transformers should be stocked by most of our components advertisers.
Transformer specialists, such as Jaytee Electronic Services (telephone 0227 375254), may even be able to supply one with 22V secondaries as mentioned in the article.
The transformer used by the author was purchased from Trent Coil Winding Co., Dept EE, 26 Derby Road, Long Eaton, Notts.
You could try winding your own from one of the kits available.
A torrid transformer, such as the Maplin YK18U, could also be used.
Finally, the printed circuit board is available from the EE PCB Service , code EE796 (see page 395).
Digital Servo Interface
Several items called for in the Digital Servo Interface are ‘specials’ and will not be available locally.
The pre-programmed controller IC1 is only available from one source.
The programmed PIC 16C54 Opt/Servo can be purchased (£12.50 inclusive) from Nikam Electronics Ltd, Dept EE, West End Gardens, Fairford, Glos.
GL7 4JB .
Suitable RC servo motors should be available from model shops.
Maplin stock a suitable motor listed as type 626T, code FS35Q.
Note that there does not appear to be a standard configuration for servo motor connections and on some older motors the supply connections may have to be reversed.
The block connector and servo mechanics for the prototype model were obtained from:SLM (Model) Engineers Ltd. (telephone 0242 525488) .
The small printed circuit board is obtainable from the EE PCB Service, code EE791.
CCD Reverb
The only sources we have been able to locate for the MN3011 bucket brigade delay line i.c. and the companion clock generator/driver i.c.
MN3101 are from Maplin (telephone 0702 554161 ), Farnell Electronic Components (telephone 0532 636311 )and Electromail (telephone 0536 204555 ).
The Maplin order codes are: UM65V (MN3011) and UM66W (MN3103).
The delay line i.c. is an expensive device and should only be removed from it's packing when all construction has been completed and checked.
The rest of the components for the Reverb are standard lines and should not cause any problems.
Remember to use a ‘High Power’ battery in the model.
The printed circuit board is available from the EE PCB Service , code EE795 (see page 395).
Vehicle Watchdog
We do not expect any component buying problem to be encountered by constructors of the Vehicle Watchdog .
The mercury tilt switch should be available generally, however, if problems do arise, the one in the model was purchased from Electromail, code 337–289.
These switches are sometimes listed as vibration type.
The switch finally used must be the metal cased type not the glass envelope type.
Warning : Mercury is very toxic and the switch must not be cut open in any circumstances.
The BC212L transistor used must be the one with the letter L suffix, other types have different pinout arrangements.
Tie Pulser
The miniature microphone insert used in the Tie Pulser project is the EM-4 omnidirectional electret condenser type and should be  available from numerous sources.
A suitable type is certainly by Omni, Greenweld, Maplin, Marco, Cricklewood and Electrovalue.
The l.e.d.s used for the tie display are the low current 2mA type, with maximum current of 20mA.
As twenty are required it might pay to ask your supplier for a ‘bulk discount’.
The small printed circuit board is available from the EE PCB Service, code EE794 (see page 395).
EVERYDAY NEWS
TALKING MOBILE
Keep your eyes on your driving, keep your hands on the wheel
For the man or woman in the fast lane, keeping in touch while you're on the move is safer and simpler than ever before with the new British Telecom's Azure  cellphone .
In fact, it's as easy as 1,2,3,— or any other convenient number code you choose to programme into the carphone's memory.
Because the BT Azure is Britain's first totally voice-activated cellphone.
It's not just a ‘hands-free’ mobile, but an ‘eyesfree’one too.
When you want to make a call, you just speak your code to wake up the phone, say ‘Dial’, tell it the number you want, say ‘Send’ and you're through in seconds.
All without lifting a finger or taking your eyes off the traffic for one moment.
Voice Commands
 The synthesised female voice that responds to your commands and verifies that it has heard them correctly is amiable enough, though clearly not to be trifled with.
She can, for example, remember a total of 130 numbers for fast, accurate dialling.
One seven-number memory bank is dedicated to key-word commands, such as‘home’, ‘office’, ‘secretary’ and ‘friend’, for the calls you make several times a day.
Another holds 24 numbers tagged with the names of your business contacts.
Just say the name and your invisible assistant will call their office.
She will also, it is claimed, answer the phone automatically, so you don't need to move a hand off the wheel to take an incoming call.
The BT Azure has a security lock, a hand-signal strength indicator and a dual-function timer, to help you keep tabs on individual calls and your total calling time.
For those who need the ability to carry the phone with them wherever they go, it is also available with an optional transmobile kit that turns it into a transportable cellphone.
Apart from the safety aspects, most people will go for the Azure because the voicedial command system makes this unique phone both easy and fun to use.
The price, £295 plus VAT, is pretty sharp for a good all-round carphone with the bonus of speech-recognition technology.
PC ‘SCOPE/VOLTMETER
The neat and easy to use plug-in module shown will transform your PC into a ‘scope and a voltmeter.
The ADC-10 comes from Pico Technology together with a 24-page user manual and software on disc.
The electronics have been very neatly incorporated inside a connector hood with a BNC socket for input lead connection.
The unit plugs into the parallel printer port of a PC and takes its supply from the computer.
ADC-10 is an 8-bit A to D converter with an input voltage range of 0 to 5V.
The software supplied allows various options such as Oscilloscope; Digital Voltmeter; Multimeter; ADC Readings etc., and also allows the parameters within each option to be changed e.g. triggering and timebase settings for the ‘scope.
Additionally the ADC-10 can perform many functions that are only currently available on expensive digital storage oscilloscope such as saving waveforms to disk, or sending them to a printer.
It is particularly suitable for displaying very low frequency trends (such as a battery discharge) which cannot be displayed on an oscilloscope due to the limitations of a CRT.
Typical examples of its use are in data acquisition (monitoring temperature, pressure and strain gauges) and digital audio sampling.
It is claimed to be particularly useful for field engineers since it's small size makes it ideal for use with portable computers.
Principles of operation are described so that users can develop their own driver software if they wish.
The complete package  costs £49 plus VAT and is available from .
SPECTRUM ANALYSER ADAPTOR
The TSA250 adapts a low cost oscilloscope into a cost effective 260MHz spectrum analyser.
It will be particularly attractive to users who are involved with EMC investigation and education, as well as in traditional spectrum analyser applications, such as response and harmonic checks on r.f. amplifiers, tuners and transmitters.
The centre frequency can be adjusted over a range of 400kHz to 250MHz, with direct frequency readout on a large 0.5in. liquid crystal display.
Both scan width and scan rate can be adjusted over the full frequency range.
The amplitude range is -70 to 0dBm.
The TSA250 Spectrum Analyser adaptor costs £405.38, inclusive VAT, and is available from .
Constructional Project
SWITCH-MODE POWER SUPPLY
STEVE KNIGHT
A DIY design that will give a 5V to 15V supply, with a maximum output current of 5A
A COUPLE of years ago I had a short series published in Everyday Electronics covering the design of regulated power units.
In the theory which accompanied this series it was shown that the function of regulated systems was to convert a ‘rough’ d.c. input voltage into a stable d.c. output voltage which would be maintained over a wide range of load current requirements as well as input voltage variations.
The general block diagrams of such systems are shown in Fig. 1 and Fig. 2.
Designs based on these principles are known as linear voltage regulators to distinguish them from the kind of regulator we are going to investigate in this article.
LINEAR SYSTEM
The circuit system in which a ‘control element’ is placed in series with the positive rail of the supply is illustrated in Fig. 1.
Current flowing from the rectified input supply to the load terminals pass through this control element, which is usually a power transistor acting as a variable resistance, R s .
This resistance is controlled in effective value by an error amplifier which takes a signal from an error detector and compares it with a stable reference voltage, often derived from a Zener diode or a bandgap device.
The error detector is, in turn, controlled by a voltage adjustment control which sets the desired output voltage V.
Once this level is set, any change in the output voltage, rise or fall, due to a variation in the load current, for instance, is sensed by the error detector which then causes the error amplifier input to deviate from the reference level, and the resulting output adjusts the series control element resistance in such a direction as to compensate for the initial change.
Hence the output voltage, within the design limits, remains constant over a wide range of current and input voltage variations.
Series regulators are simple and inexpensive design features but under high current, low voltage output conditions there is a considerable voltage drop across the control element resulting in wasteful power dissipation and a consequent loss in efficiency.
Some linear systems have the control element connected in shunt rather than in series with the supply, see Fig. 2.
In a sense, the shunt element behaves in its stabilising work rather as a Zener diode behaves, but the analogy must not be pressed too far.
The current flowing through the shunt is again controlled by an error detecting system in much the same way as it did in the series case, though the sense of the control has the opposite sign.
This means that as the load current I L increases, say, the current through the shunt is reduced, to adjust the voltage drop across a series resistor R , and maintain the output constant.
Again at high currents, there is wasteful power dissipation in R , and additionally in the control element itself, so that the shunt regulator on the whole is not so efficient, under like circumstances, as the series model.
It has, however, some advantages under certain operating conditions.
An alternative approach which has a number of advantages over linear control systems, is the switching regulator, or as it is more usually known, the ‘switch-mode power supply’.
This is the method used in the project to be described in this article.
SWITCH-MODE PRINCIPLES
As long as patience and care are applied, making up a switchmode power unit is no more difficult than any other sort.
Integrated circuits are available in which everything except the switching control transistor, smoothing capacitors and the necessary inductances are built in, and a supply can be fabricated by a dozen or so connections to the chip.
The design we are going to talk about is a DIY design in that, apart from a 555 timer and 4001 NOR gate chip, discretes are used to carry out the various circuit operations and the system is capable of being modified for those who like a starting point and then like to experiment.
It gives scope for the hobby-electronics enthusiast to try out his own ideas, and for those who don't the design as it stands provides a useful power supply unit.
Fig. 1.
Linear type series controlled voltage regulator.
Fig. 2.
Linear type shunt controlled voltage regulator.
The principle of a switch-mode regulator is shown in Fig. 3.
A source of d.c. voltage is obtained from a bridge rectifier and initially smoothed by a capacitor C1 in the conventional manner.
This unregulated d.c. now passes through an electronic switch S which turns on and off at a relatively high frequency; this might well lie within the range 15kHz to 100kHz, sometimes more.
The voltage at the output of this switch alternates as a rectangular wave between the source level and zero, and this in turn is fed into an LC filter network consisting of inductor L1 and capacitor C2, plus a ‘flyback’ diode D1.
The basic purpose of this filter is to smooth out the chopped waveform appearing from the switch and so provide a steady output voltage across a load resistance R L , though it does this job in an unconventional way.
The advantage of using a switch which is either completely off or completely on over any form of variable resistance as in linear supplies, is that no power is dissipated in this sort of control element, whatever the load requirements are or whatever the voltage developed across the switch happens to be.
When the switch is open, the current through it is zero, hence the power product VI is zero.
When the switch is closed, the full available current flows through it to the load but again no power is dissipated in the switch since the voltage across it is zero.
We are, of course, assuming that we are using an ideal switch which doesn't exist in real life, but the point being made is that a switching system will be a lot more efficient than any resistive control element where dissipation is invariably relatively large.
FILTER CIRCUIT
At first sight, the filter circuit may appear conventional but the presence of the diode D1 is unconventional and it seems as though it is going to be switched off all the time anyway, the anode (a) always being at zero potential.
We can study the circuit in rather more detail if we look at Fig. 4.
When the transistor switch S ‘closes’ the full d.c. input voltage is applied across the filter and current flows through the inductor to charge capacitor C2 and provide the needs of the load (R L ).
The diode D1 is reverse biased during this period and plays no part in the action.
Although the switching action is abrupt, the current in L1 and the voltage across C2 cannot, however, follow the steep rise of the switch output but builds up relatively slowly.
That is, the effect of the inductance, as always, is to oppose an increase in current.
Under the impressed constant voltage, the inductor current raises linearly to a peak magnitude Î L (if saturation is avoided) which is dependent upon the value of L1 and the time T O N during which the switch remains closed.
At the instant the switch opens, the current through the inductor is at its peak value; this current cannot fall to zero instantaneously any more than it could rise instantaneously, and a back e.m.f. is developed across the inductor to oppose the fall.
The diode D1 now comes into the action by being suddenly forward biased, so providing a path for the current from the inductor to flow around the loop into the filter capacitor and the load.
Hence current continues to flow into the load even when the switch is open.
Fig. 4 illustrates the effect of current discharge from inductor to capacitor and load.
If the output voltage is to remain constant, the effectual net charge delivered to the filter capacitor must be zero; this means that the charge provided by the inductor must be dissipated in the load.
For a constant value of T O N , the time required by the load requirement; control of T O N therefore determines the output capability of the supply.
The waveforms of Fig. 5 illustrate this action in more detail.
The voltage across the diode,V D , follows that from the output of the switch, that is, very closely equal to V 1 assuming an ideal switch, during the period T O N ; when the switch opens, the back e.m.f. inversion across the inductor allows current I D to pass through the diode, this current being in the same direction inductor-wise as before but now decreasing.
Fig 3.
Block diagram of a switch-mode type regulator system.
Fig 4.
Operating cycle of the filter circuit showing the inductor current waveform.
Fig 5.
Idealised waveforms found at the various points in the filter network.
Fig 6.
Principle of the 555 timer used as a pulse width modulator (PWM) and the associated waveforms.
Pin 3 waveforms are inverted before being applied to the switching transistor (TR1).
Current which is over and above that required by the load is represented on the waveform for I L by the cross-hatched area.
This excess flows into the capacitor where it is stored until the load requirement demands it, the un-hatched current passing into the load.
When the inductor current is less than that needed by the load, the capacitor sheds some of its stored energy and provides the required additional current.
The waveform for capacitor current I C shows this provision as the cross-hatched area.
If everything is properly proportioned, therefore, a steady supply of current is available for the loading.
FILTER COMPONENTS
The a.c. ripple frequency fed into the filter is obviously high.
This gives an advantage over conventional 100Hz ripple-smoothing filters used in linear power systems in that the values of both L and C can be relatively small but still provide a high a.c. ripple reduction.
The attenuation is, in fact, proportional to the reciprocal of  assuming that this is large compared to 1, hence the higher the switching rate the smaller the filter components may be.
The requirements of both the filter capacitor and the ‘flyback’ diode are fairly critical in this kind of application.
The value of the capacitor must be selected in conjunction with the value of the inductor so that the output ripple requirement is met; as an electrolytic will almost certainly be used, the Effective Series Resistance (ESR) and the self inductance are the important parameters.
For effective filtering, the ripple frequency must be very much lower than the frequency at which the series inductance becomes troublesome, and ideally the ESR must be less than the ratio of the specified ripple voltage to the ripple current.
Suitable capacitors are available and should be used in this position.
The diode used must be capable of carrying the peak inductor current; in addition, it must be able to recover from its conducting state to its blocking state in a very short space of time.
If this does not happen, current from the switch could be passed to ‘earth’ for part of the cycle, resulting in possibly a damaging loading on the switching device and overheating with loss of efficiency.
A fast recovery diode must therefore be used.
There remains now only the problem of providing a suitable Pulse Width Modulating (PWM) signal to control the on-off periods of the switching device to begin getting our power unit into shape.
This is achieved by the use of a simple 555 timer circuit.
MODULATING SIGNAL
If the electronic switch (S) depicted in Fig. 3 and Fig. 4 was on all the time, the input and output voltages would be identical.
If the switch was off all the time, the output would be zero.
The actual output when the switch is alternately on and off is therefore clearly an average value somewhere between these two extremes; or, in an ideal world, the output is a function of the ratio of T O subN; to T O F F .
That is, a function of the duty cycle of the switching waveform, or:
Ignoring any voltage drop across the filter, the average output voltage will be the same as that applied to the filter input.
From this, it is clear that the output voltage can be varied by altering the duty cycle.
So, in theory at least, a 100 per cent variation in duty cycle will change the output voltage from zero to its maximum of V 1 .
This is not all; for if any unwanted change in the output occurs and this change can be fed back to modify the duty cycle ratio in the proper sense, the output can be stabilized at some desired value, any deviation from that value being automatically corrected.
There are a number of methods of varying the duty cycle ratio of a rectangular pulse train.
Some of these are highly sophisticated and provide almost complete control of the duty cycle over a 100 per cent variation.
Our purpose is less exacting and a simple application using the familiar 555 timer gives us an effective PWM with a minimum of components and a duty cycle variation from about 20 per cent to 70 per cent.
The basic method is shown in Fig. 6.
Here the 555 timer i.c. is used in conventional monostable mode but with a control voltage applied to pin 5.
In the monostable mode the output at pin 3 is ‘low’ until a clock pulse is applied to pin 2.
At that time the output goes ‘high’ for a period determined (with control pin 5 disconnected) by the value of capacitor C and resistor R .
Capacitor C charges through resistor R until it reaches two-thirds of the supply voltage, the timer then resets and C is discharged through pin 7.
If, however, pin 5 is returned to a positive voltage level, determined by the setting of the potentiometer VR , the point at which the timer resets is altered.
This means that the output at pin 3 is a positive-going pulse whose duration for a given C and R depends upon the potential at pin 5.
Notice that the frequency of the output wave is unaffected, this remaining the same as the frequency of the input clock pulses.
What changes is simply the mark-space ratio or the duty cycle.
It is possible to use variable frequency regulation in which the on time is fixed and regulation is achieved by increasing or decreasing the switching frequency, but such systems lead to difficult filtering problems.
If the variable duty cycle waveform is applied to act as the control parameter of the switching regulator of Fig. 4, then the voltage will be controllable over a wide range and provide an adjustable and stabilised output.
PRACTICAL CIRCUIT
The design aim at the beginning of this project was to have a power supply adjustable over a range of about 5V to 15V which regulated well with a maximum current output of about 5A.
This was a tall order for a system based on discretes and a simplified circuitry which would be easy for home construction (and to set up) without critical adjustments.
The problem was compounded by the requirement of a voltage output range which led to a compromise over the values of certain components, particularly those in the filter section.
With the circuit values chosen, the system is optimized at about 5V where good regulation up to the design current of 5A is obtained.
There is a slight deterioration as the voltage rises and the current limit (with tight regulation) is about 3A at the 15V end of the scale.
This was accepted as a small price to pay for having the wide range of voltage output, and unless a load situation arises which takes a rapidly fluctuating current from some low value up to beyond 3A at the 15V point, the performance of the unit is quite satisfactory.
CIRCUIT DESCRIPTION
The complete circuit diagram for the Switch-Mode Power Supply is shown in Fig 7.
Dealing first with the control side of things, the clock pulses are generated by IC1, a simple CMOS astable using a 4001B quad NOR gate i.c.
Three of the gates are used, the first pair, IC1a, IC1b, generating a series of positive pulses at a frequency of about 20kHz, with the third gate, IC1c, acting simply as an inverter to provide negative-going triggers to pin 2 of IC2, the 555 monostable.
Early prototype version of the circuit board showing the filter coil mounting clamp and the two finned heatsinks.
The arrival of a pulse sends the output at IC2 pin 3 high and the timing capacitor C9 begins to charge through resistor R10.
When the voltage across C9 reaches a level determined by the potential on pin 5, pin 3 goes low and C9 discharges through pin 7.
The cycle repeats on the arrival of the following trigger pulse.
In this way, the period between the pulses is the same as that of the clock while the actual pulse width is fixed by the charge rate of capacitor C9 and the voltage on control pin 5.
With C9 and R10 constant, the charge rate is constant and the pulse width at pin 3 increases as the potential on pin 5 increases.
This, then, is our pulse width modulator.
The actual control of the level at pin 5 is accomplished by transistor TR2 whose base (b ) is fed from the potential divider chain of resistor R20 preset VR1 and resistor R21 connected directly across the output terminals.
As the base potential rises, the voltage at the collector and on IC2 pin 5 falls, and conversely.
Hence the duty cycle at IC2 pin 3 is varied and the output voltage which is controlled by the duty cycle value becomes adjustable by the use of preset VR1.
Regulation is also controlled by this method.
The controlling pulses from IC2 pin 3 are fed, via resistors R14 and R15, to the base of transistor TR4 where, after inversion, they are passed to the base of the Darlington switching transistor TR1.
The MJ2501 is a pnp power Darlington which simplified things a little from the assembly point of view although there is a small sacrifice in switching and saturation loses.
An npn Darlington MJ3001 was tried originally, fed directly from pin 3 of the 555 but the performance was inferior to the present arrangement because of the difficulty of getting sufficient drive.
Now, for any particular setting of preset VR1, should the output voltage decrease for any reason, the voltage on the slider of VR1 decreases proportionally and backs off transistor TR2.
The control voltage at pin 5 consequently increases, the ON time of TR1 increases, and the output voltage rises, compensating for the original fall.
The same correcting action takes place when the output voltage tends to rise, the ON time of TR1 decreasing.
What in effect happens is that the system stabilizes in such a way that the slider of potentiometer VR1 is maintained at a constant level.
When the slider potential moves towards resistor R20 the output voltage falls to keep the slider at its original level.
When the slider potential moves towards R21 the output voltage rises to maintain the same state of equilibrium.
Transistor TR2 needs to have a very high h f e , which is why a BC109C is specified.
This should have a h f e of at least 500, higher if a selection can be made.
INTERFERENCE
The operation of the switching system and the filter network has already been explained.
Because of the high frequency of operation, there can be considerable r.f. radiation from this part of the circuit and for that reason those components involved, shown in the broken lines on the circuit diagram, are screened under a diecast aluminium box which eliminates most of the RF1 (radio frequency interference).
The inductors L1 and L3, nominal 15µH coils, are additional suppressors preventing interference getting out of the circuit along the connecting wires.
PROTECTION
Some sort of protection is needed against excessive load currents or short-circuited output conditions.
The fuse at the input to the switching circuit, rated at 10A, provides some protection, but fuses even of the fast-blow sort sometimes prove too slow to prevent damage to semiconductor devices.
Here the fuse is used as a back up to the protection afforded by thyristor CSR1 aided and abetted by transistor TR3.
Resistor R22 is a current sensor which develops the triggering voltage (nominally 0.8V) for the thyristor, CSR1, when the output current exceeds 8A.
When the thyristor triggers into conduction it presents a virtual short-circuit across Zener diode D4 (which has held the base voltage of the pnp transistor TR3 at a cutoff level of 3.3V) and so pulls the base down sufficiently to switch TR3 on.
This action brings pin 3 of IC2 down to near zero and shuts off the drive to the switching transistor TR1.
The circuit can be reset by momentarily switching the unit off.
Those who wish to do so might incorporate a reset switch (of suitable rating) in the positive lead between R1 and L1 or in place of the 10A fuse.
This is momentarily opened to reset the circuit after shut-down.
CONSTRUCTION
Construction of this project is relatively easy as all the parts, excepting the mains transformer and bridge rectifier, are assembled on a single printed circuit board.
This board is available from the EE PCB Service, code EE796.
Fig 7.
Complete circuit diagram for the Switch-Mode Power Supply.
The area within the dotted lines generates considerable r.f. radiation and is screened from the rest of the circuit under a diecast aluminium box, see photographs.
There are a few preliminaries to be seen to before the construction can begin; these are the winding of inductors L1, L2, L3 and the mounting details of the switching transistor TR1 and the flyback diode D1 on small heatsinks which attach directly to the board.
Large heatsinks are not required as the dissipations in the Darlington switch and the diode are very small.
COIL WINDING
Inductors L1 and L3 are simple RF1 suppressor coils and are not critical in winding.
They are nominally of 15µH  inductance and are wound with 28-turns of 20s.w.g. enamelled wire on DT2534 bobbins.
Wind the wire on neatly in layers and bring the ends out between the pins on each side of the bobbin.
These pins are used to hold the coils on the board; snip off the odd pin on that side of the bobbin which has three pins.
The wire ends, suitably cleaned of enamel, then go through the board along with the pins and are soldered into place where indicated.
Coil L2 has an inductance of about 170µH and is wound on a Ferroxcube FX3720 bobbin which is supplied with two E-cores in grade 3C8 material.
Great care must be exercised with these core pieces as the material is as brittle as glass and easily broken by careless handling and assembly .
Wind the bobbin with 24-turns of 18s.w.g. enamelled wire, keeping it neatly in layers (there are about 1½ layers involved) and bring out the wire ends down through the bobbin slots in the positions shown in Fig. 8.
These coil ends, suitably cleaned of enamel, are later pushed through the ‘D’ holes on  the board and soldered to the foil.
Make sure that the winding is tight and when completed, tape it to prevent any possibility of the coil vibrating or ‘singing’ as the current varies.
There has to be a gap of about 0.008in. in the magnetic circuit and this is best introduced by sticking a double thickness of ordinary drafting tape to the pole faces of one of the E-cores.
You can use paper of similar thickness but unless you stick it in some way to the faces it is difficult to keep it in position when assembling the cores into the bobbin and bolting it down to the board.
Trim the paper to the shape of the faces with a sharp craft knife.
When the two E-cores are assembled in the bobbin, the inductor is mounted on the board by M2 or 6BA brass studding (or any non-magnetic screws of suitable length) by way of the holes ‘C-C’.
A clamping bar of aluminium or brass  is needed across the top of the assembly to ensure that the clamping force is uniformly distributed over the cross-section of the outer limbs and another at the bottom, though this can be a simple flat strip of brass or aluminium.
The exploded view of Fig. 9 shows the method.
Tighten the upper nuts firmly but do not overtighten — the ferrite material, as mentioned above, breaks easily.
If you break a piece, replace it; do not try to use the broken pieces or glue them together, the magnetic circuit properties will be affected.
COMPLETING THE BOARD
The printed board component layout and full size copper foil master pattern is shown in Fig. 10.
The assembly of this, used in conjunction with the circuit diagram, should give no problems.
Fig. 8 (above).
The wound bobbin for the filter inductor L2 showing the coil ends positioned for connecting to the p.c.b.
foil pads.
Fig. 9 (right).
Exploded view showing the mounting method for inductor coil L2.
There has to be a gap of 0.008in. between the two E-coes and this is achieved by using two layers of drafting tape, paper or layers of Sellotape.
Note the ‘ali’ or brass clamping bar and base plate.
The remaining ‘big’ parts, aside from the three inductors already covered, are the switching transistor TR1 and the flyback diode D1.
These are mounted on small heatsinks in the positions shown in Fig. 10.
Transistor TR1 together with the twisted vane heatsink, which is already drilled to accept the TO3 pin configuration, are bolted to the board at holes ‘B-B’ with 6BA screws.
Use fibre or brass washers between the sink and the board to keep the sink about 2mm clear of the board surface.
The right-hand ‘B’ hole is also the collector connection and contact with the underside board copper foil must be ensured, use washers on the foil side under the nut.
The base and emitter pins of the transistor go through the board holes where shown and are soldered to the foil.
Diode D1 is also mounted on a small heatsink so that its two pins go through to the appropriate foil points and the ‘sink itself, which has solderable pins, is mounted vertically and fitted to the holes ‘E-E’.
All the small components can now be fitted in the positions indicated, taking the usual care where tracks are close together to avoid solder bridges.
Capacitor C1 will only fit to the board layout if it is the type specified in the parts list.
The five tag holes should be drilled out 2mm and the three unused positions should be left floating as the diagram indicates.
You can, of course, use an alternative type electrolytic capacitor if you wish but you will have to adjust the mounting position accordingly.
Any alternative must be rated at least 40V working and have minimum ripple current rating of 5A.
Capacitors greater than 10,000µF) are OK and may be used in this position.
Capacitors C3 and C5 must be low ESR types, but C8 is an ‘ordinary’ electrolytic.
Resistor R1 is shown as two 0.47ohms 3W types ‘wired’ in parallel, but a single 0.22ohms resistor of 6W rating may be used instead.
Resistors R1 and R22 should be mounted 3mm clear of the board.
As TR1 and D1 are not isolated from their heatsinks, these ‘sinks must NOT touch the diecast screening box when it is finally fitted over them.
Check that this is so, though if the hole positions are correctly made, there is no danger of this.
The screening box contacts, by way of its two lower fixing screws at points ‘A’, the common negative line of the supply which effectually Earths it.
Don't fit the box until the unit has been finally tested.
You don't have to, but it is convenient to put solder pins at the input and output terminations; it makes disconnection easier if this becomes necessary when fitting the unit into a case.
POWER SUPPLY
The input to the board from the bridge rectifier, Rec. 1, needs to be 28V to 30V d.c. if the output range of 5V to 15V is to be achieved.
This means that the a.c. input to the rectifier bridge should be in the range of 20V to 22V r.m.s.
Unless you have a transformer made or wind one yourself, it is unlikely that you will find a 22V secondary, but a 20V type is quite satisfactory.
The average rectifier current is given by  and this works out, taking the highest voltage output as 15V at 3A, at .
Hence we could just get away with a 50VA transformer.
However, assuming a 70 per cent efficiency we can take this as 3A, and this calls for a 80VA transformer and a 6A rectifier to be on the side of ‘belt and braces’.
Transformers are readily available with 20V secondaries and of 80VA rating, both standard and toroidal.
Two separate secondaries are commonly provided and these can be paralleled to supply the total 3A current required, which is only 1.5A per winding.
On the prototype a 100VA transformer, which was unnecessarily big, but because it happened to be standing on the shelf, was used.
If you happen to have anything like this, by all means use it.
A bridge doesn't have to be used; if you have a centre-tapped secondary, 20V-0V-20V, for instance rated at 3A (or more) use a biphase circuit instead of a bridge.
The circuit is shown in Fig. 11.
The diodes can be 6A individual types.
TESTING
A unit can be tested by hooking the transformer and bridge rectifier temporarily on to the input terminals; neither the board nor these components need be mounted on any sort of chassis.
Switch on and check that you have 28V to 30V at the rectifier output, about 9V across capacitor C8 and something at the output terminals.
If there is no output of any sort, the pulse generator IC1 probably isn't working and TR1 is shut down.
If all seems well up to this point, put some sort of load which draws, say, 1A on average across the output terminals i.e. a ‘watty’ resistor of perhaps 10 to 15 ohms.
Fig 10.
Complete p.c.b.
layout and wiring details for the Switch-Mode Power Supply.
Now adjust preset VR1 either way to check that you get a range of 5V to 15V; you may find you can actually go a bit beyond these limits but this is not of importance.
The inductor L2 should not ‘sing’, if it does you may need a fraction more tightness on the studding nuts holding it in place, but do this with extreme care.
If you experience a short ‘buzz’ at some particular point along the adjustment of VR1, ignore it; it is probably a local resonance effect.
Check that nothing is getting hot.
The Darlington transistor TR1 will get slightly warm, particularly at higher load currents, as will R1 and R22, but otherwise there should be contentment.
These two resistors should stand 3mm clear of the board.
If you have a frequency meter of any sort, check at pin 10 of IC1 to see that the frequency is between 20kHz to 25kHz; this might seem a big variation but the design works over this range.
The frequency can be increased by reducing the value of resistor R7 or decreased by increasing it.
Although the design target was 20kHz to 22kHz, tolerance around IC1 give a spread but this is not critical in any way; three prototype models gave figures of 21.7kHz, 23.5kHz and (the last one) 22.5kHz respectively.
There is no point in calling for tight tolerance components here.
Regulation curves for three typical output voltage levels are shown in Fig. 12; these were taken from the final prototype.
The output impedance is about 0.02 ohm at the 5V end and 0.1 ohm at the 15V end of the range.
MODIFICATIONS
Strictly, a switch-mode p.s.u. can be precisely designed for a particular output voltage at some stated current; if that design voltage is altered by some means, the performance deteriorates.
This is why commercial units generally have fixed outputs.
This project has been called a DIY design as it is open to certain modifications to suit particular whims.
Some constructors might not like the idea of the control potentiometer VR1 being mounted on the board and so, when the unit is boxed up, inaccessible to adjustment.
The control was actually mounted where it is in anticipation that the unit might be used at a fixed voltage output for a particular purpose.
If, however, continuous variation is required, this preset can be omitted from the board and three wires taken from the relevant board points up to a conventional 1k rotary potentiometer mounted on a front panel, along with any metering.
Only light gauge wire is needed.
Alternatively, you might live to have distinct switched positions giving outputs of, say, 5V, 9V, 10V, 12V and 15V.
An external 2-pole 5-way switch will then be needed and the circuit shown in Fig. 13 built up on a small board.
This board can be mounted on the rear of the front panel next to the ‘range’ switch or even possibly directly on the rear of the switch.
The wiper contacts of the presets should be ‘commoned’ together and a lead taken from this point and soldered to the centre copper pad on the main p.c.b.
which is earmarked for VR1.
The two outer pads take leads from the two pole contacts (tags) of the range switch.
The five presets, mounted on the small ‘range’ board, can now be adjusted in turn to give the five voltage ranges desired.
CASE
A front panel has been talked about but nothing practical has been mentioned.
This is because the casing of the unit has been left to individual choice.
As can be seen from the photographs, the board is spaced off a sheet of aluminium forming a base ‘chassis’ using 6mm spacers, and the mains transformer and rectifier are mounted on the sheet at the input end.
A case can be fabricated around this chassis without too much difficulty (or one might be bought).
On the front panel of the selected case can be mounted the main On-Off switch, a neon indicator lamp, the ‘volts out’ control (or switch system) and the output terminals.
Also, the fuse and a voltmeter (0–15V) and an ammeter (0–5A), or a switched combination of these last two items, can be included to produce a neat and versatile instrument.
CONCLUSION
One final observation: It is possible, although I couldn't reproduce the effect on the three models made, that a switch-mode power system may oscillate or be unstable on open or very light loads.
This problem, if it arises, can usually be cured by drawing a minimum current at all times (or by elaborate internal loading circuitry which operates when the regulator is off).
Connecting a 47ohm 6W resistor across the output terminals will clear the trouble, although I think it is unlikely to occur in this design.
Fig 11.
Alternative rectifier circuit diagram to suit centre-tapped transformers.
Fig 12.
Resolution curve for three typical output voltages versus load current.
Fig 13.
Method of switching a number of fixed output voltages using a two-pole rotary switch and five preset potentiometers.
Special Feature
MAKING YOUR OWN P.C.B.S
ALAN WINSTANLEY
It's easy if you have the right chemistry
Part Two: Ultra-Violet Processing Techniques
AS WE mentioned last month, applying the ‘original’ etch-resist directly to the copper foil prior to etching is fine for quicker one-off printed circuit boards (p.c.b.s), but there is the drawback of actually have to destroy the etch-resist after etching, in order to reveal the copper tracks underneath.
With more complex circuits, having to remove the transfers after taking all that time to lay them down in the first place, is wasteful.
In many circumstances this might not be a problem, but if you are at all keen on the subject and a little more experienced in circuit design and assembly, you may well wish to make another board or perhaps modify the circuit (and probably the p.c.b.
layout) at a later date.
It then becomes rather a chore having to re-apply those etch-resist transfers all over again.
Sensitive Approach
Fortunately it is possible to produce printed circuit boards using a readily available light-sensitive process.
This permits you to design the copper track layout on paper at leisure, changing it around at will before finally committing it to etching.
This more advanced system uses an etch-resist coating on the copper foil of the p.c.b.
which is sensitive to ultra-violet light (UV).
Basically, the p.c.b.
artwork ‘positive’ is translated onto clear film which has the design of the copper track layout printed onto it, with black areas representing the copper conductors — just like the artwork shown in the published design.
The artwork film ‘master’ is then placed against the UV sensitive coating of the blank board, and UV light is shone through the positive master onto the etch resist coating.
The board is exposed to UV light for a period of up to 20 minutes or so.
Afterwards, the exposed board is processed with a readily available developer which will wash away all the etch-resist that was exposed to UV light.
Hence, those areas of resist which were masked from the UV light by the artwork will remain on the board.
The result is a perfect reproduction of your artwork in etch-resistant ink on your p.c.b., which can then be etched as normal.
What's more, you can keep the artwork for re-use at a later date!
It should be noted that the etch-resist is sensitive to ultraviolet light only, and processing indoors in a subdued light should not cause any problems.
It isn't normally necessary to operate in a darkroom.
Normal sunlight, of course, contains a proportion of UV which may be enough to turn the etch-resist.
Indoors, though, ordinary window glass generally filters out some of the UV content of sunlight, and the author has never experienced any difficulties of daylight interfering with end results.
This system may require some initial experimentation to familiarise oneself with exposure times, chemical strengths etc., but it is much more convenient in many respects, especially if you are involved with designing/prototyping as well as routine project building.
Once you have got the hang of it, you will find it much simpler, more accurate and more enjoyable to create p.c.b.
artwork on a film, changing it as required, rather than scratching away on a piece of copper clad board!
It's certainly the best way to produce more complicated boards.
To illustrate a typical method of producing a single-sided printed circuit board, the methods of creating artwork and utilising the UV system will be now described, and later we will look at means of designing your own artwork.
Producing A Masterpiece
The initial step involves the preparation of the master artwork.
If you are copying artwork for a magazine article, half of the work (i.e. designing the track layout itself) is already done for you, and all you need to do is reproduce the given copper track layout onto a suitable medium.
Polyester drafting film is generally used, which is translucent white and quite strong.
Other films can be used such as acetate or overhead-projector film but polyester is better able to withstand the rigours of handling whereas other types may tear easily.
It can be bought in A4 sized sheets.
In order to copy existing artwork onto film, cut some drafting film to size (allowing plenty of room as a border) and place it over the artwork to be copied, perhaps Sellotaping it in place over the page.
Next, mark the outline of the board onto the film and then lay down the positions of the copper pads to act as a reference, just as we did in the ‘direct etch’ method last month.
Again, rub-down dry transfers can be used — etch-resist transfers are adequate (which are say 10 microns thick).
You may occasionally see precision artwork transfers available which are thicker (25 microns).
These thicker transfers are preferable because they are less likely to let UV light through, but perfectly acceptable results have been obtained using standard etch-resist transfers.
Continue to copy the artwork by filling in the routes of the copper conductors, using the same technique (tape or special ink pen) described last month.
Make sure that lines do not inadvertently touch each other, or this will result in short-circuits on the finished board.
Some boards may have areas of copper which form large ‘islands’ on the copper track layout.
To copy these onto your artwork, draw the outline of the area in tape or dry transfer lines, and then fill in the middle with either wide dry transfer lines cut to size or use two coats of matt black enamel paint applied with a fine brush, and allow to dry.
Occasionally you may make an error on the artwork, and these can be corrected by scraping off the transfer with a scalpel blade.
Larger areas of track can be lifted off by applying Sellotape, pressing down firmly onto the offending artwork, and then lifting off sharply.
It is extremely important that ALL traces of incorrect transfers etc. are removed, or these will be reproduced on the finished board .
Crepe Tape
One alternative to rub-down transfers which is preferred by many designers is the use of crepe-paper tapes.
They are much thicker (100 microns plus) than dry transfers and are completely opaque.
Adhesive circles and lines are available on a reel and these are simply stuck down onto the film as required.
The lines particularly can be more convenient than transfers because you can simply follow the original artwork like following a map, unwinding from the reel and sticking it down onto the film as you go along — though it can be fiddly on dense or complicated boards.
Cut the tape from the reel using a scalpel whilst attempting not to cut through the film, lifting off any excess tape from the drafting film.
You will still require transfer film decals for dual-in-line pads, edge connectors etc., but crepe tapes lend themselves especially to designing your own artwork.
Having reproduced the artwork onto polyester film, the next step is to label the artwork clearly, so that you know which side is the copper foil layout.
It is not difficult to expose the board back to front!
Use an adhesive label and mark clearly ‘This side copper track view’, plus the project title.
The other side of the artwork would represent an X-Ray of the copper layout, seen from the component side of the board.
On Board The next step is to prepare the UV sensitive board itself.
There are two choices available in this respect.
Either buy ‘presensitised’ copper-clad board, or apply the light-sensitive coating yourself.
Pre-sensitised board is available in standard sizes just like plain copper-clad board, and the manufacturer treats the copper with a UV sensitive etch-resist ink and generally protects this with a peel-off paper sheet, see Fig 1.
It is more convenient to purchase pre-sensitised boards which are then cut to the required size, but DO NOT remove the protective film until you are ready to expose the board to ultra-violet light.
Alternatively you can try to apply the sensitive etch-resist ink yourself, and special positive-working aerosols are available for this purpose.
In this case, cut the circuit board from standard plain copper-clad board, file the edges and clean up the copper with an abrasive block, ensuring that the board is then completely clean and grease-free.
Often, a domestic detergent is also used, in order to ensure that no greasy marks remain on the board, which must be ‘wettable’ to accept the etch-resist lacquer.
Photo 1.
Materials for preparing boards using the ultraviolet system: positive artwork, UV aerosol resist (2 types shown), developer, Dalo ‘Red’ Pen (opaque to UV), copper clad board and pre-coated board.
Photo 2.
Copying artwork from the project details onto polyester film.
Note the crepe paper tape which can be used to lay down lines of various widths.
Photo 3.
Aligning the sensitive p.c.b.
with the artwork, on an ultra-violet light unit.
The EE UV Exposure Timer, to be described next month, is adjacent.
Photo 4.
Developing the exposed p.c.b.
— Caustic Soda solution can be used (see text) or a proprietary developer may be employed for more consistent results.
Photo 5.
After developing and etching, the etch-resist can be removed with acetone (nail varnish remover).
The board can now be drilled.
Fig 1.
A cross-section of a single-sided p.c.b.
which has been coated with an ultra-violet light resistant lacquer or ‘resist’.
The use of aerosol etch-resist undoubtedly requires some initial trial and error.
From experience, it can be difficult to apply a coating of uniform thickness on the copper, depending on the quality and uniformity of the aerosol spray cone.
Sometimes the wet ink which is sprayed on to a horizontal board can spread out sideways, which results in a reasonably-uniform layer in the middle of the board, but an excessively thick border of ink around the edges of the board.
In this case, too much spray has probably been applied, and this will require a longer UV exposure period (see later).
Airborne dust particles are another hazard, as any impurities that settle on the ink coating during drying results in unwanted reproduction in the etch-resist.
After spraying on the etch-resist, it can be left to dry in subdued light at room temperature which could take up to 24 hours but can be accelerated by warming the board in a low oven (not a fan-assisted type) at about 70 degrees maximum.
Do not be tempted to use a hair drier, for instance, as this will simply blow dust onto the board and also create unevenness in the lacquer.
Exposure Time
So having prepared a board with the UV sensitive etch-resist lacquer, the next stage is to expose the board to ultra-violet light through the positive artwork, see Fig. 2.
For this, a special UV light box is used which contain two or more small fluorescent UV tubes.
More expensive versions include a timer so that the light source switches off after a preset period.
The artwork is placed down onto the UV light box so that the ‘Copper Track View’ of the artwork is downwards, towards the light source.
Then remove the protective paper (if any) of the sensitised board and place this, etch-resist side down, onto the artwork, carefully lining it up on the artwork.
Double-check you have got everything the right way round so that the artwork is not back to front, then close up the UV light box and switch on.
The exposure time depends on the following factors:—
1.
The thickness of the etch-resist coating: Presensitised boards will generally not have as thick a coating as etch-resist applied by an aerosol.
2.
Whether the drafting film is clear or translucent: Polyester drafting film may reduce the UV light getting through to the etch-resist, so longer exposure may be necessary.
3.
The UV content and power output of the UV tubes (itself related to how far away the tubes are from the board)
.
When exposing the board to ultra-violet light, we are attempting to ‘turn’ the etch-resist throughout the depth of the layer of the ink.
It takes time for UV to penetrate all the way through the etch-resist, so a thicker coating of sprayed-on resist will require a longer period of UV exposure.
Using some scraps of board, it is worth experimenting with exposure times to optimise the UV time period.
Note that UV light can be harmful to the eyes and it is important that the lid of the UV light box is kept firmly closed when the light source is switched on.
A UV Exposure Timer construction project, which permits you to set and forget the UV light source so that you can pay attention to other tasks, will be described next month.
Rule-Of-Thumb
As a rule of thumb, a pre-sensitised board can be exposed for between 5 and 10 minutes using an ordinary UV light box.
It has been found that boards with a sprayed-on coating of etch-resist lacquer may require up to 15 or 20 minutes.
These times may vary considerably depending on the sensitivity and thickness of the etch-resist.
Can you damage a board by over-exposing it?
In extreme cases, if the dark areas of the artwork are not perfectly opaque (say you used ink instead of dry transfers or crepe tape) the UV light could pass through this and excessive exposure will affect the etch-resist varnish under the artwork — and the result can be that the whole of the etch-resist ink will be exposed, so that the foil pattern does not develop.
On the other hand, under-exposure causes problems which will be apparent when you come to develop the exposed board, which is the next stage of processing.
Developing A Solution
The exposure and developing of the etch-resist pattern in order to remove the unwanted areas of etch-resist are probably the most tricky aspects of making the board until you have some experience.
Normally, Sodium Hydroxide — Caustic Soda (N a OH)— solution is used as a developing agent, and this can easily be made up at home.
Ready-mixed developers are also available (some require diluting) which take out most of the guesswork of developing the board.
Caustic Soda is sold by chemists and DIY stores in, say, 2kg. tins for use at home in clearing blocked drains (!) and a solution can be made up as follows:
Wearing gloves ; fill a plastic bottle with one litre of warm water, and using a plastic spoon , pour a dessertspoonful (two teaspoons) of Caustic Soda crystals into the water.
(The recommended formula is actually seven grammes per litre of water.)
Replace the bottle stopper and shake the solution thoroughly.
Empty the developer into a plastic tray.
Place the exposed board into the tray of developer using plastic tweezers or tongs and agitate the board gently.
The exposed areas of resist will soften and then should wash off the board leaving, we hope, the copper track artwork on the board, see Fig. 3.
It sometimes helps to very gently swab the board in the developer tray with a cotton wool pad held between tongs or plastic tweezers.
It should take only two or three minutes to fully develop the board in this manner, and the board is then rinsed with water and dried carefully.
If all the etch-resist is completely stripped away in a short period of time, then perhaps the whole board has been exposed at some stage to too much UV light.
Another reason may be that the developer solution may be far too hot or concentrated.
Either way, you will have to start again!
If on the other hand the board does not fully and cleanly develop after a couple of minutes, then the board has not been exposed to UV light for long enough.
Remember that only the resist which was subjected to UV light will be stripped by the developer.
If the resist is not exposed for a long enough period, it will not develop fully and so some traces will remain on the board.
Another possible cause is that the polyester film is too opaque and blocked the ultra-violet light: longer exposure is necessary with translucent drafting films.
Fig 2.
Exposing a coated board to UV light through the p.c.b.
artwork positive master.
For consistent results, it is best to use a UV Exposure Box.
Fig 3.
After exposure to UV light, the coated board is developed in a Caustic Soda solution or proprietary developer.
The sensitive lacquer which was subjected to UV light is washed away, leaving the artwork positive reproduced in etch-resist on the board.
Fig 4.
The etched p.c.b.
with resist removed (solvent or abrasive cleaning block) and drilled.
Compare with Fig 3.
Start Again
The only option is to rinse the board in water, dry it carefully and try to line it up again on the artwork, re-exposing it for a few more minutes.
It is very difficult to do this without producing a ‘blurred-vision’ effect in the resist — so you may well have to scrap that attempt, recoat the board with resist and start all over again.
A comprehensive trouble-shooting guide is given opposite which summarises most problems that arise.
But don't be put off by any early setbacks because some simple experimentation will soon determine the best way of producing boards with this technique.
After use the developer solution can be thrown away.
The product is, of course, caustic and any spills or splashes must be rinsed with plenty of water.
It is now only necessary to inspect the etch-resist artwork on the p.c.b.
prior to etching it as described previously.
Look for any spots of etch-resist which are unwanted: these can be removed by wiping them off with a cotton bud dipped in acetone (nail varnish remover).
Keep the acetone away from the rest of the etch-resist layout!
Additionally, examine the continuity of the etch-resist, making sure that there aren't any flaws in the resist pattern.
Any problem areas can be touched up manually with a Dalo Etch-Resist pen.
Etching
When you are happy that the etch resist pattern is as required, the board can then be etched in Ferric Chloride in the usual manner in either an open tray of etchant or using the Seno GS sealed system described last month.
When etching has been satisfactorily completed, the etch-resist ink can be removed from the board with an abrasive Polyfix block, or Isopropanol or acetone dabbed onto a cotton wool pad will dissolve the ink effectively.
The board is then ready for drilling and tinning (if required) before soldering in the components.
(Compare Fig. 3 with Fig. 4).
In part three next month, we suggest ways of originating your own artwork so that you can design your very own printed circuit boards.
Construction of a UV Exposure Timer will also be undertaken.
Fault Finding
Here is a fault-finding guide to help locate any problems that might arise when producing boards with the ultra-violet technique.
Develops O.K., but excessive exposure time required
Artwork drafting film is too opaque — use appropriate clear/translucent film.
Aerosol resist coating too thick:— increase exposure time or use spray more sparingly.
UV tubes need replacing.
Very long developing time, or resist does not develop fully or at all Resist is underexposed to UV light:— increase exposure period accordingly (only area which have been thoroughly exposed to UV light will be developed).
Resist may also be too thick or artwork film too opaque, and has not been thoroughly activated by the UV light — see above.
Developer cold, weak or exhausted.
Renew.
Image is developed but then disappears
PCB has been over-exposed.
Reduce exposure time.
(Applies especially to good quality sensitive pre-coated boards.)
Artwork layout is not opaque to UV light, permitting UV to pass through transfers etc.
Board has been left in developer for too long.
All of the etch-resist disappears when developing
Developer could be too hot or concentrated.
The whole board has previously been exposed to UV light.
(e.g. sunlight).
Excessive etching time
Etchant may be exhausted:— dispose of safely and renew.
Narrower tracks are etched away
Over-exposure to UV may affect very narrow etch-resist tracks which will be removed/reduced in width by etchant.
Developer or etchant may be too strong, undermining narrow sections.
Copper pads lift off when soldering
Excessive heat applied during soldering.
Diameter of pads too small.
Diameter of the drilled hole too large!
If conductor is intact, repair by applying Super Glue Gel to the affected area, to encapsulate the lifted pad in resin.
Breaks in copper track
Flaws in etch-resist coating or artwork.
Extremely thin conductors may be undermined by excessive etching time, resulting in the tracks being etched through.
Repair with silver-loaded paint or solder in a jumper wire.
ACTUALLY DOING IT!
by Robert Penfold
I THINK it is fair to say that every hobby has its frustrations, and that there is no pastime that is genuinely ‘roses all the way’.
Electronic project construction is probably less troubled by this type of thing than many others, perhaps due to the fact that it is an indoor pursuit which is not dependent on the weather.
It is not a totally frustration-free hobby though, and there are two main problem areas.
One is the occasional project that refuses to work (although some consider that this is where the fun really starts), and the other is waiting for ‘out of stock’ components to arrive.
It is this second problem, plus some related topics, that we will consider in this article.
GOLDEN OLDIES
One point that has to be made straight away, is that it is not a good idea to start buying the components for a project published some time ago unless you are certain that all the components are still available (even up-to-the-minute designs can suffer from supply problems with components — see Everyday Readout in this issue).
Ironically perhaps, supplies of some semiconductors which were popular only a few years ago seem to have completely dried up, whereas most valves of around 50 years ago are still available.
While semiconductors are the main offenders, there are other items which might cause problems.
These include such things as transformers, r.f. coils, crystals/resonators, photocells and other sensor devices.
If an old project uses any component that is eve slightly out of the ordinary it would be advisable to check that it is still available before starting to buy the components.
It is very difficult to come up with a sensible definition of what constitutes an ‘old project’.
The Everyday Electronics official policy is that anything published more than five years ago is ‘old’, which I suppose is about right.
No doubt there are many projects much older than this that use only standard ‘off the shelf’ items, and which are still quite buildable.
On the other hand, there are certainly some projects which are less than five years old, but where there are some components which are likely to prove unobtainable.
It is a matter of carefully considering components used in each project, and using a little common sense.
The safest way to proceed with a project that uses any unusual components is to buy these components first, and to only go on to buy the remaining components once you actually have the ‘hard to find’ items in your possession.
Probably the best advice is to be wary of any project that is more than a couple of years old, and to be extremely wary of any that were published more than five years ago.
With projects that are more than ten years old you should give a lot of thought to the problems involved, and then decide to build something from the current issue of Everyday Electronics instead!
STOCK TAKING
One way to reduce the problem of waiting for elusive components to arrive is to build up a stock of components.
At one time quite a modest stock of components would enable you to build practically anything that came along in the electronics press, although the cost of the components would have been very high by today's standards.
These days there is no point in trying to accumulate a cache of components that will accommodate any project that takes your fancy.
A glance through any of the larger component catalogues will show that the number of different components currently in use is so large that even if you could afford to buy one or two of everything, you would need a warehouse to store it all.
If you look through the components lists of a few recent projects you will no doubt find some that only use common components, but most seem to use at least one or two ‘specials’.
It is still worthwhile building up a stock of components though, and most electronics hobbyists end up with quite a large store of components after a few years.
A stock of ‘standard’ components will not help when an unusual item is ‘out of stock’, and with these you just have to accept that you are at the mercy of the suppliers.
On the other hand, a stock of components can avoid the frustration of being held up on a project because a mundane integrated circuit is temporarily unavailable, or because you have managed to break one lead away from a 100m capacitor.
You need to be sensible about buying components for stock though, or you will probably just waste a lot of money.
JUNK BOX
The old approach to the problem was to raid discarded or inexpensive pieces of surplus equipment for any components that could be removed intact.
These went into what was known as the ‘junk box’.
The ‘junk box’ approach is a less practical proposition these days, although there are plenty of surplus printed circuit boards etc. available.
The main problem is that the cost of most new resistors and capacitors is now so low that it is barely worthwhile going to the trouble of removing and testing them.
Also, bear in mind that the components removed from circuit boards are likely to have very short leadouts that might prevent them from fitting into the component layouts of your projects.
Surplus component boards etc. are most useful if they contain expensive semiconductors, and are probably something that are best left to those who have a few years experience of electronics behind them.
The same is probably also true of ‘untested bargain packs’.
These can actually be a very good source of low cost resistors, capacitors, diodes, etc., but only if you know what you are doing, and you have the necessary test equipment to sort out the good components from the ‘duds’.
Unless you are careful, your ‘junk box’ will live up to its name.
The likely consequence of this is that project after project will fail to work because you have used one or more faulty or otherwise unsuitable components.
TRIED AND TESTED
Packs of tested components are a different matter, and these represent the best way for beginners to obtain a useful stock of components for a modest outlay.
These usually contain something along the lines of ten of each value for a particular type of component.
For example, a resistor pack might contain ten of each value in the E12 series from 10 ohms to 10M.
Sometimes the quantity of each value is weighted according to the popularity of that particular value.
Thus there might be 25 per pack of popular values such as 10k and 100k, but only five of less well used values such as 82 ohms and 1k2.
This seems to be a very good way of doing things.
It is not really a good idea to buy a few packets at random in the hope that these will be the type of thing you need.
Initially at any rate, it is best to choose packs that contain the types of component which can be found in practically every project.
The obvious first buy is a pack of small resistors, such 0.25 watt 5 per cent types.
A pack of around 1000 resistors can be had for well under £10, which is clearly under 1p per resistor.
Even if a few of the resistors are never used, this still represents a very cheap and easy way to buy resistors.
It is the way I obtain most of my resistors incidentally.
Other types of component which definitely merit the pack treatment are radial electrolytic capacitors, ceramic capacitors, polyester capacitors, and miniature horizontal preset resistors.
These are all reasonably inexpensive in pack form, and are used a great deal in electronic projects.
It might also be worthwhile buying packs of d.i.l. integrated circuit holders, or bulk buying the smaller types.
I seem to use these up at a surprisingly high rate these days (particularly the 8 pin type), but I suppose that practically every project is based on d.i.l. integrated circuits these days.
SEMICONDUCTORS
With a few possible exceptions, it is not worthwhile stocking up with other components in large numbers because it would either be too costly, or it would take years to use them all up.
Packs of Zener diodes can be had at reasonable prices, but as these components do not feature in many projects these days, you could well be buying a two hundred year supply!
At most I would only buy one each of the values up to 15 volts.
It is worthwhile having a few 3 and 5 millimetre red l.e.d.s plus matching panel holders in stock.
Packs of l.e.d.s and holders are sometimes available at quite attractive prices, and it is probably worthwhile investing in one of these if you can find a suitable pack.
Modern circuits seem to be liberally scattered with general purpose silicon diodes such as 1N914s and 1N4148s.
I generally buy these in packs of one hundred or more, which usually results in a massive discount on the one off price.
I soon seem to use them all up.
Most other components simply are not offered in tested packs, or if they are, the cost is likely to be too high for most of us to be able to give them serious consideration.
However, there are some commonly used components where it is worthwhile having two or three of each in stock, and this is my list of suggested buys.
INSTALMENT PLAN
In the early days of Everyday Electronics it was often suggested that it was a good idea to double-up on the cheaper components when buying a set of components for a project.
This does not add much to the cost of the order, and over a period of time the extra components build up into a useful stock of parts.
Furthermore, you automatically get more of the popular components, and fewer of those that are infrequently used.
This remains a good way of doing things, and must be the most pain-free way of building up a stock of components.
Its main drawback is that you will be paying significantly more for your components, as you will not be getting the benefits of bulk buying.
Also, with bulk buying you save a lot of time by not having to order each resistor and capacitor individually.
STORAGE
If you are going to have a large stock of components you must store them sensibly.
Simply putting them all into a large box is a totally impractical approach.
Rummaging through hundreds or thousands of components for each part you require will take a great deal of time.
Worse than this, it will tend to rub the identification markings off the components, and could eventually result in more serious damage, such as detached leads.
Some sort of multi-compartment box is required, or if you have a lot of components to store it may be necessary to have several of these boxes.
Each compartment can be used to hold a particular type of component over a limited range of values.
For example, with resistors I have one compartment for the resistors having a black multiplier band, another for the resistors having a red multiplier, another for those with an orange multiplier code, and so on .
By having a very limited range of values in each compartment you can quickly locate the components you require, with minimal wear on the components.
Small plastic chests of draws are ideal for component storage.
You will probably find these locally in Woolworths etc., as well as in any of the larger electronic component catalogues.
From the same sources you can also obtain compartment boxes, and trays made from transparent plastic, both of which are ideal for component storage.
Some of these boxes have quite small compartments, making them unsuitable for resistors and some other components.
They are perfect for the smaller components though, such as most capacitors, transistors, etc.
FINALLY
What is definitely not the right way to build up a stock of components is to buy sets of components for projects, and to never quite get around to building them.
Making projects is far more fun than component collecting!
Constructional Project
TIE PULSER
MAX HORSEY
Is this the comeback of the 70's ‘disco’ tie?
Sound activated, it will soon send out ‘good vibrations’ to the rest of the groovers.
DESIGNED for disco's and parties, not to mention Red-Nose Day, the Tie-Pulser consists of a set of 20 l.e.d.s fastened to the front of a tie.
An electronic circuit, complete with microphone and battery are concealed within the tie, which for ease of use should be a clip-on type.
Sound causes the l.e.d. array to pulse, like the l.e.d.
VU display fitted to some tape recorders.
HOW IT WORKS
The block diagram for the Tie Pulser is shown in Fig. 1.
The circuit is based around the LM3914N dot/bar driver i.c., with a simple 741 op. amp microphone amplifier.
The microphone picks up the surrounding sounds and feeds them to the amplifier.
The audio signals (a.c.) are then passed, via the gain control, to the display driver i.c.
The LM3914N is a device which responds to inputs in a ‘linear’ fashion.
A LM3915N i.c. with a ‘log’ response normally associated with sound level applications is also available, but in tests the LM3914N was found to be more satisfactory in this instance.
The i.c. contains a number of amplifiers whose non-inverting (+) inputs are controlled from a resistor or potential divider chain, see Fig. 2.
Each non-inverting input voltage is held at a different level, the connection nearest pin 4 being the lowest voltage, and the connection nearest pin 6 being the highest.
The signal (pin 5) is fed via a buffer amplifier to all the inverting (-) inputs.
As the voltage at pin 5 rises, output 1 will become negative, followed by output 2 etc.
The i.c. also contains a regulator to provide a reference voltage.
This may be used to set the voltage at pin 6, with pin 4 connected to 0V.
The mode select input (pin 9) determines whether the display will be in dot or bar mode.
If pin 9 is left open circuit, the display will be in dot mode, and if pin 9 is connected to the positive rail a bar mode display is produced.
The outputs may be used to drive l.e.d.s directly, and are ‘active low’.
In other words, with single l.e.d.s, each l.e.d. anode (a) must be connected to the positive supply rail, and each cathode (k) to a respective output as shown in Fig. 3.
The current flowing through the l.e.d. is regulated by the i.c. and can be set by means of a single resistor, R8.
CIRCUIT DESCRIPTION
The full circuit diagram for the Tie Pulser is shown in Fig. 4.
The 741 op.amp IC1 is connected in its non-inverting mode.
The microphone is an electret insert type EM-4 or similar, and costs less than £1.
This type of microphone is very small and very sensitive, but requires a d.c. supply which in this circuit is provided by resistor R1.
The small alternating signal from the microphone passes via capacitor C1 into the non-inverting input (pin 3) of IC1.
The purpose of C1 is to allow the flow of a.c. (i.e. the audio signal), but block the flow of d.c. which would upset the voltage at pin 3.
This must be held at half the supply voltage, and is achieved by using two resistors R2 and R3 of equal value.
Fig 1.
Block diagram for the Tie Pulser.
Fig 2.
Pinout information and part of the internal circuit of the LM3914N linear bargraph display driver i.c.
Fig 3.
The outputs of the LM3914N i.c. can drive l.e.d.s directly.
Only one output is shown; the other nine outputs are connected in the same way.
The inverting input (pin 2) is connected to output pin 6 via resistor R4.
Since there will be virtually no current flowing through R4, there will be virtually no voltage drop across it and the voltage at pin 2 will be equal to that at pin 6.
Remembering that pin 2 is an inverting input, any rise in its voltage will cause a corresponding fall in voltage at pin 6, and vice-versa.
Thus the output voltage will be held at a voltage equal to that at pin 3.
The d.c. link between output pin 6 and inverting input pin 2 is known as ‘negative feedback’.
An alternating audio signal is required from pin 6, and a means must be found of preventing this ‘feeding back’ to pin 2 and cancelling itself out.
This is achieved by capacitor C3, which whilst blocking the flow of d.c., allows the a.c. audio signal at the lower end of resistor R4 to flow to 0V.
Resistor R5 reduces this flow a little, so that a small percentage is fed back to pin 2 to reduce the a.c. gain of the op.amp.
The ratio of R4 to R5 sets the approximate gain of the amplifier.
The gain required is rather high, and the circuit can easily become unstable, especially when close to the high currents flowing via IC2.
Any small voltage fluctuations on the supply rails will adversely affect the amplifier, causing it to oscillate (i.e. give out a signal, even when no sound is directed at the microphone).
Resistor R6 is a simple means of preventing these voltage fluctuations reaching the sensitive amplifier circuit.
Used in conjunction with capacitor C2, the supply rails are ‘decoupled’ i.e. the voltage level is maintained at a constant level.
DIODE PUMP
The amplifier output from pin 6 of IC1 is fed to gain control VR1 via capacitor C4.
This again allows the a.c. signal to pass, whilst preventing the flow of d.c. from pin 6.
VR1 is a preset potentiometer, used as a level control, to adjust for loud or quiet sounds.
The a.c. signal passes via capacitor C5, with the right hand ‘plate’(as in the diagram) alternating between positive and negative.
Each time this plate is positive, current flows via diode D2, and charges capacitor C7.
When the right hand plate of C5 is negative, the 0V rail appears to be positive by comparison, and current flows from 0V via diode D1.
An imperfect analogy is to think of D1 and D2 acting as one way water valves, with C5 as a piston.
The water is ‘sucked up’ via D1, and pushed out through D2.
This arrangement is often referred to as a ‘diode pump’ network.
In practice the voltage obtained will be less than expected, since diodes (especially silicon ones) cause a voltage drop.
The use of germanium diodes would improve the situation, but they are more expensive, and the circuit sensitivity is more than adequate anyway.
DOT/BAR DRIVER LM3914N
The input signal is delivered to pin 5 of the display driver, IC2.
Capacitor C7 stores the separate d.c. pulses received from diode D2, so that a more steady d.c. voltage level is presented to pin 5.
Resistor R7 discharges C7 rapidly when the train of pulses stops.
This ensures that the display falls rapidly when the sound stops.
Resistor R8 sets the output current from IC2.
The value of 2.2 kilohms allows an output current of about 7mA.
Pin 3 is the i.c. 's positive supply, and pin 2 is connected to 0V.
It is important to also connect pins 4 and 8 to 0V, to ensure correct operation.
The ten outputs are from pin 1 (lowest sound level), followed by pins 18, 17, 16, etc. to pin 10,(the highest sound level).
A rising voltage at the input pin (5) causes pin one to go ‘low’(towards 0V), then pin 18, 17 etc.
The outputs are used to directly drive an l.e.d. display, with the l.e.d.s arranged in series pairs as shown.
Fig 4.
Complete circuit diagram for the Tie Pulser.
CONSTRUCTION
All the components, with the exception of the 20 display l.e.d.s, are mounted on a small single-sided printed circuit board (p.c.b.).
The component layout and full size copper foil master pattern is shown in Fig 5.
This board is available from the EE PCB Service , code EE794.
Solder in the i.c. holders and small components such as resistors.
Take care to fit the diodes and electrolytic capacitors the correct way round.
The electet microphone insert can be purchased with a screened cable already attached, otherwise connect wires to the pads of the insert very carefully, taking care to observe the correct polarity.
The pad which is already joined to the metal insert case is the negative side.
Screened wire should be used, but if the wires are kept very short ordinary wires can be employed.
The mic insert case should be insulated with tape to prevent short-circuits, so that it may be left in any convenient position inside the tie.
Connect all the wire leads required, and finally insert the i.c.s into their sockets ensuring that their notches are towards the top.
CHOICE OF LEDs
A very wide range of l.e.d.s is now available, and after some experimentation the l.e.d. chosen for the prototype was a red 3mm low-current type.
The type obtained can be operated on 2mA, with a maximum current of 20mA.
At 6mA or 7mA the l.e.d.s were far brighter than standard types, and well worth the few extra pence each.
BUILDING THE DISPLAY
A clip-on tie is ideal for accommodating the display l.e.d.s although talented sowers may be able to modify ordinary ties.
Begin by cutting the stitches at the rear of the tie so that it may be ‘opened’.
Mark the positions of the 20 l.e.d.s on the front of the tie using a pen.
Next cut the tips of the l.e.d. leads at an angle using side cutters so that each lead ends in a sharp point.
Carefully check that each l.e.d. is inserted with its anode lead (longest) the side shown in Fig. 6.
The l.e.d.s may now be pushed through the front of the tie, the sharp leads piercing the fabric like a needle.
They should now be secured by carefully bending their leads, using long-nosed pliers, at right angles as shown.
Soldering must be carried out with great care, noting that most ties will melt instantly if touched by a soldering iron or molten solder.
Constructors with shaky hands are advised to place thin card between each pair of leads being soldered and the fabric.
When viewed from the rear (Fig. 6.), all the left hand l.e.d. (anode) leads are connected to each other, using bare wire if necessary.
Each cathode (k) lead of the left hand line of l.e.d.s is connected to the anode (a) lead of the right hand l.e.d.s.
Finally, all the cathode leads of the right hand line are connected to the p.c.b., with the lowest l.e.d. to copper pad 1, the next to pad 2 etc.
Insulated wires should be used for this purpose, and colour coding will avoid confusion.
Fig 5.
Printed circuit board component layout and full size copper foil master pattern for the Tie Pulser.
Fig 6.
Wiring to the display l.e.d.s and pin identification diagram.
SETTING UP
Note that when power is first applied to the circuit, there will be a slight delay before the amplifier begins to work.
This is due to the time taken to charge capacitor C3 via the high value resistor R4.
Commence the setting up procedure by adjusting preset VR1 to its highest gain setting.
When a sound is directed at the microphone, some or all of the l.e.d.s should flash.
Check that the l.e.d.s connected to the lowest outputs flash first and that the display rapidly ‘decays’ when the sound stops.
If, after a minute, the circuit fails to work, some simple tests should locate the fault.
FAULT FINDING
It is useful to first establish which part of the circuit is failing.
If an oscilloscope is available, check that a signal is reaching pin 3 of IC1 when a sound is directed into the microphone.
Check that a much higher signal is reaching preset VR1, and then capacitor C5.
Try linking the signal input (pin 5) of IC2 directly to positive.
Take great care not to connect any other pin by mistake .
A safer test position is the right hand side of R7.
When this is made positive, all the l.e.d.s should light.
Failure of this test would indicate a problem around IC2, or the l.e.d.s.
Voltmeter readings around IC2 should produce the following results, assuming that the negative lead of the voltmeter is connected to 0V.
TESTING THE OP.AMP
Assuming the absence of a signal from capacitor C4 (as revealed by the oscilloscope test earlier, or the correct functioning of the circuit around IC2), check that the d.c. voltages on the op.amp IC1 pins are as follows:
Note that a good quality (high resistance) meter is necessary to obtain the correct reading on pin 3, and in particular, pin 2.
If any strange readings are obtained around either i.c. check the board carefully for dry solder joints (i.e. joints not making correct contact), or solder bridges across adjacent tracks, or hairline cracks in a copper strip.
ON DISPLAY
A small PP3 battery should provide enough power for several hours use.
In the prototype, the battery was housed by folding the tie lining around it, and fastening with a staple.
No on/off switch was included, since it is very easy to unclip the battery; however, a switch could be included if preferred.
The fabric back of the tie was neatly re-fastened with strips of insulating tape, to enable easy servicing and adjustment of the preset.
When ‘dancing’ with the tie on, it is advisable to fasten the lower part to the shirt with a tie clip or safety pin, otherwise the weight of the battery may cause the tie to fly off and strike some unsuspecting person!
Special Series
INFORMATION TECHNOLOGY AND THE NATIONAL CURRICULUM
T. R. de VAUX BALBIRNIE
PART 8
THIS IS the eighth in a 12-part series concerning information technology, communication systems and related matters in the Science National Curriculum.
Readers are reminded that there is far more material given here than is needed for any particular scheme of study.
The intention, as always, is that sections should be drawn on as required.
Those who have not been following the series are advised to read Part 1 (November, 1991 issue) since this gives certain background information about the National Curriculum and about this month's topic which is information-transmission systems.
TELECOMMUNICATIONS
Telecommunications — that is communication at a distance — is a large and ever-growing topic.
Telecommunication devices include the telephone, radio, television (including teletext), fax (facsimile transmission) and telex.
In a given situation, more than one of these may be used — for example, fax signals being passed along a telephone line or telephone messages being sent using radio techniques as in a car telephone, cordless telephone or ship-to-shore link.
Now, satellites form part of the picture and their use will be discussed in detail in a later part of the series.
Here we will consider the traditional method of using analogue electrical signals in copper wires, analogue and digital light signals passed along optical fibres and the use of radio links.
Information may represent two-way private conversations, radio or television information for mass entertainment, still pictures and printed documents, or binary data being interchanged between computers.
Whatever type of communication system we use, we can break it down into the following parts:(a) a source of information (b) a device which converts the information into a suitable form for transmission (c) the means of communication (channel of communication) itself (d) perhaps some form of processing circuit(s) at intervals along the way (e) a destination for the signal and its conversion into a suitable form (which is normally that of the original) and, finally,(f) the receiver of the information.
This is shown as a block diagram in Fig 1.
TRADITIONAL TELEPHONE SYSTEM
Let us illustrate the above by considering a traditional telephone system.
The source of information is the person speaking .
The device which converts the information into a suitable form is the microphone — this produces an analogue electrical copy of the variations in the human voice.
The channel of communication is the copper wire which carries the electrical signals and runs to the distant end.
Some form of processing (amplifiers) will be used in a long-distance system to ‘boost’ the signal level every so often to make up for losses before it is sent on its way again.
At the distant end, the conversion from electrical signals to sound is carried out by the earpiece and the listener receives the information.
Such telephone systems are still widely used today.
A similar system could be used where the channel of communication is radio waves rather than electrical signals along copper wire.
ANALOGUE TELEPHONE EXPERIMENT
This experiment uses a pair of old-type telephone handsets to set up a two-way analogue communication link over copper wires between two points which may be several hundred metres apart.
You will need the handsets from a pair of traditional telephones having carbon granule microphones.
Complete telephones are available in used condition quite cheaply from mail order suppliers.
In addition to the telephones, you will need a 9V battery and connector also some light-duty twin wire such as‘bell’ wire and some 3 amp (light-duty) screw terminal block.
You only need the handset, so if complete telephone instruments have been bought, you will need to do some minor dismantling to disconnect the handset wires from the terminals inside.
When this has been done, unscrew the microphone and earpiece covers to identify the colours of the wires.
The two microphones and earpieces are then connected together in series with the battery as shown in Fig 2.
The wires on telephones are of a type to which it is difficult to make connections but there should be no difficulty if the pieces of screw terminal block are used as shown.
This system may be used for two-way conversation.
Clear results are obtained providing the distance between the two stations is not too great.
This experiment illustrates how, in practice, a simple analogue system can provide good results over relatively short distances.
Fig 1.
Basic parts of a communication system.
Fig 2.
Analogue telephone link.
One interesting point is that signals for both directions pass through both microphones and both earpieces.
This makes it possible to set up a two-way conversation using only one pair of wires.
It also means that the speaker hears his or her own voice and this acts as a check that the system is working.
It would be a good exercise to compare this electrical system with the purely acoustic string telephone in Part 1 (November, 1991 issue).
Over very long distances, the signal in the system above would weaken and booster amplifiers (called repeaters) would be needed very so often along the line.
These would inevitably introduce distortion, noise and hiss and the signal would gradually become degraded to the point where it became unintelligible.
Another disadvantage of this type of system is that where several copper wires carrying different signals lie close to one another, current tends to be induced from one wire to adjacent ones.
Other conversations will then be heard in the background.
This effect is called cross-talk and can be a great nuisance and embarrassment.
ANALOGUE RADIO LINKS
Experiments using radio links are a problem in the UK because, although easy to do, it would be illegal to make and use the necessary apparatus.
One way out is to use very low-power ‘toy’ walkie-talkies, licensed CB (citizens band) transceivers or a cordless telephone as the basis of experiments.
The whole point of radio communications is the very versatility and freedom associated with its use.
It needs no physical medium between the two stations (so called wireless communication).
The channel of communication is radio waves which are modulated to carry the analogue information of the voice (more will be said about radio waves and methods of modulation in a future article).
The waves spread out through space from the aerial (antenna) on the transmitter.
An aerial on the distant receiver then picks them up and converts the information firstly into electrical signals then into sound which is reproduced by the loudspeaker.
Since the waves are not usually channelled in any particular direction, the signal strength becomes weaker the further the receiver is from the transmitter — in fact, when the distance between transmitter and receiver is doubled, the signal strength is quartered .
It will be clear that the range will be short unless a powerful transmitter is used or the waves are directed to the listener in some way.
‘Beaming’ the signal is possible using certain high-frequency radio waves but this is only useful if you know where the receiving station happens to be.
In many applications, such directional techniques are inappropriate.
One disadvantage of radio communication is that it is not secure — that is, anyone with a suitable receiver can listen in on the conversation — users of cordless telephones beware!
This should be compared with systems in which the signal is sent direct to the receiver for example, along a copper wire.
The students could investigate the range of radio equipment both in the open air and with various objects such as concrete and steel structures in between.
They could investigate the performance at the limits of the range and find out exactly what eventually makes the sound unintelligible.
ANALOGUE TO DIGITAL CONVERSION
Last month we discussed analogue to digital conversion and the reverse process.
In a modern telecommunications system, the analogue signal is converted to digital form using an analogue to digital (A–D) converter .
The digital system is then transmitted along the channel of communication to the distant end.
A digital to analogue (D–A) converter then turns the signal back into its original form.
Using such digital techniques, although technically difficult to do, provides better quality with no degradation of the signal with distance or repeated amplifying.
Sending such digital signals lends itself well to using light along optical fibres rather than electrical signals along copper wires.
This is a fairly recent advance having many advantages over the traditional method.
OPTICAL COMMUNICATION
In an optical system, the information to be conveyed is converted into light signals rather than electrical ones.
These may be analogue or digital in nature.
Let us discuss an analogue system first.
Here the speech, music or other information makes a light source ‘flash’ with a brightness which follows all the changes in the sound pattern.
The flashing light is then picked up by a sensor at the distant end and the information converted first into a corresponding electrical pattern then into sound using an earpiece or loudspeaker.
In practice,infra-red is often used rather than visible light.
Infra-red may be regarded as a form of light to which the human eye is insensitive — that is, it cannot be seen but otherwise behaves in practically the same way.
It is wasteful simply to flash the light into the air and hope to pick it up some distance away since most of the light spreads out in space (compare this with radio communication)— although this method does have its uses over very short-distances.
An example is the remote control system used with many modern television sets, videocassette recorders, audio systems, etc.
Here, an infra-red source in the handset sends a digital code according to which button is pressed.
These codes consist of a string of binary numbers in the form of on-off states.
The infrared signal, carrying the digital code, is received by a sensor in the television set, video recorder or other piece of equipment.
It is then decoded and made to change channels, turning up the volume, alter the brightness, mute the sound, or whatever other job is required.
The codes are unique and it is extremely unlikely that a ‘false’ signal could be given or received.
Unfortunately, different manufacturers use different codes so there is no compatibility between different systems.
Note that no A–D converter is needed here because the data is already digital.
Some readers will be familiar with certain ‘wireless’ audio systems.
These allow headphone listening while walking around the room.
The system consists of two parts: a transmitter which is plugged into the main audio system and a receiver which is carried around by the person.
In the transmitter, infra-red is modulated to carry the analogue sound information which then fills the room.
A sensor on a receiver picks this up and reconverts it first into electrical information then into sound.
OPTICAL FIBRE
For a greater range of communication, it is more efficient to channel the light signal along an optical fibre .
This will prevent the signal from spreading out through space.
An optical fibre has a core (made from glass or clear plastic) and a cladding all encased in a tough protective plastic sheath.
Fig. 3 shows the general construction although optical fibres will differ in detail according to type and the precise use for which they are designed.
It is not the purpose here to explain exactly how an optical fibre works in terms of total internal reflection.
Anyone interested in this type of detail should consult a standard physics textbook on light.
However, it is good enough to say that light entering one end of the fibre will reflect repeatedly along its length and eventually emerge at the other end (see Fig 4).
In theory, the light could travel any distance along the fibre.
This, however, assumes that the material is absolutely transparent and no losses occur.
In practice, this cannot be so.
It is therefore necessary to pick up the optical signals, convert them into electrical signals, amplify them using a repeater and re-convert them into optical signals every so often along the way.
DIGITAL COMMUNICATION
Optical communication systems can work with advantage using digital signals rather than analogue ones.
With a digital signal, the sound or other analogue information is converted into binary data using an analogue-to-digital converter (see Part 7 last month).
The light source is then only required to flash on (for a 1) or remain off (for a 0) and does not need to follow every smooth change in the analogue pattern of the information.
This it can do very well.
The pulsing light is picked up by a sensor at the distant end, converted into on-off electrical signals, amplified, fed to an digital-to-analogue converter and the information used to operate an earpiece, loudspeaker or other output device.
As with an analogue signal, if the distance involved is very great it will need to be processed by a repeater every so often.
However, with an analogue signal, distortion and noise which are inevitably introduced by the repeater would be amplified by the next one together with the signal itself.
Thus, the signal degrades and, eventually, becomes unintelligible — that is, the information it carries will fail to be information at all .
With a digital signal, it is very difficult for distortion to occur since so long as a 1 remains a 1 and 0 remains a 0 the signal will continue to carry all the information and the data stream will be as pure at the end as it was at the beginning.
This will be so no matter how many repeaters are used.
If for some reason the 1's and 0's become a little distorted (yet still preserving their identity) they are easily cleaned up again by circuits in the repeater so the pulses are perfectly re-created.
LIGHT SOURCE
In a communications system, the source of infra-red radiation may be an infra-red l.e.d. or a laser.
For fairly short distances l.e.d. 's are quite satisfactory.
A laser is an exceptionally bright source of light so the light can travel much further between successive repeaters.
Note that a filament lamp is practically useless as a light source for optical communication.
This is because to convey all the information — whether by analogue or digital means — it must be able to flash at great speed.
The working part of a filament lamp is a metal coil which glows white hot.
Since it takes a certain time to reach its working temperature and cool down again, it would not be able to follow the changes satisfactorily.
By contrast, lasers and l.e.d. 's can operate at great speed.
Using optical fibres instead of copper wire has several advantages.
The material used is cheaper, lighter, thinner and easier to lay.
Cross-talk does not occur — the signals remain confined to their own channel even where many fibres lie bundled together.
It also turns out that a single fibre can carry many signals at the same time (more will be said about this in Part 10).
This means that a single fibre bundle can carry an enormous amount of information.
Experimental cars are being developed where the rear lights are controlled by a digital code sent from a circuit at the front along an optical fibre.
The advantage is that just one fibre can convey all the information to operate the correct lights.
Only one copper wire is needed to carry the current required for any bulb switched on in this way so there is a saving in terms of cost and weight.
Such systems may become commonplace in the future.
OPTICAL FIBRE EXPERIMENTS
The following experiment illustrates analogue communication using an optical fibre.
It does involve some careful circuit-building but anyone who has been following the series and has managed up to now will be able to build this system successfully.
A personal stereo (Walkman) or, possibly, a battery-operated radio having a headphone socket is needed — this will be used as the source of speech or music.
You will need two Vero Plugblocks if using this method of construction — one for the transmitter and one for the receiver.
You will also need a length of optical fibre.
This is available from mail order suppliers fairly cheaply.
The prototype unit used a length of 5m but you may find that a greater range can be achieved.
It is interesting to examine the optical fibre before using it in the communications system.
If someone shines a small torch at one end, the light may be clearly seen to emerge from the other.
You will find that the experiments work best when the ends are cut cleanly using a sharp blade then, if possible, polished.
However, good results were obtained in the prototype circuit without any special precautions.
Optical fibre can be used to inject light into places which would otherwise be impossible — into a person's body for example to enable photographs to be taken of the internal organs.
CIRCUITS
It is not essential to understand the transmitter and receiver circuits in order to build them.
However, an explanation follows for those who are interested.
Readers simply wanting to get the system working should disregard the next four paragraphs.
The transmitter circuit is shown in Fig 5.
The working part is the l.e.d., D1.
Note that a red l.e.d. is used rather than an infra-red one.
This works well, is inexpensive and has the advantage that the light can be seen.
This acts as a check on operation, gives a better insight into the operation of the circuit and simplifies the setting-up procedure.
An l.e.d. requires 2V approximately between its ends to make it work and the output from the stereo would hardly achieve this or might only do so intermittently with loud sounds.
It would therefore not work satisfactorily if connected direct to the stereo unit output.
To overcome this problem, the l.e.d. is placed in the collector circuit of transistor, TR1.
A bias current is allowed to flow into the base via VR1 and R1.
This produces a steady collector current which operates the l.e.d.
The base current is adjustable by means of potentiometer, VR1 and this will set the steady brightness level at the end of construction.
Resistor, R2, limits the current so that in the event of a circuit failure, the l.e.d. will not be destroyed by excessive current as would otherwise be the case.
In use, VR1 will be adjusted so that with no music playing, the l.e.d. glows with about half its normal brightness.
The signal from the personal stereo or radio is applied to TR1 base via capacitor, C1.
This modulates the steady current already flowing here.
The l.e.d. therefore flashes in sympathy with the music above and below its steady brightness level.
This simple transmitter has been shown in tests to work surprisingly well.
The receiver circuit diagram is shown in Fig. 6.
This consists of a sensitive phototransistor.
TR1, a preamplifier centred on transistor TR2 and a high-gain power amplifier IC1.
The power amplifier itself is almost totally performed on the chip and this makes construction very straightforward.
The phototransistor picks up the light emitted by the l.e.d. in the transmitter section and converts it into an analogue electrical signal.
This is amplified by transistor, TR2, and applied to the input (pin 2) of power amplifier, IC1.
This in turn operates the loudspeaker, LS1 connected to the output pins 5 and 8.
The energy changes are as follows:
A copper cable and optical fibre cable of similar message capacity (courtesy British Telecom).
Fig 5.
Optical communication — transmitter.
Fig 6.
Optical communications — receiver.
Fig 7.
Construction of the optical transmitter.
Fig 8.
Construction of the optical receiver.
BUILDING THE TRANSMITTER
As well as the personal stereo mentioned earlier, you will need the following components to make the transmitter.
If you have been following the series, the starred items will already be part of your components kit so check before ordering.
Note the use of a hyperbright l.e.d. in a clear package.
In tests, this gave much better results than a standard one in a red encapsulation.
The Plugblock layout for the transmitter is shown in Fig. 7.
The 1M potentiometer should be prepared by attaching short wires to the centre and one of its outer terminals.
This may be done by tight twisting, using small crocodile clips, or by soldering.
Note that the 100µ capacitor is of the electrolytic type so must be connected the correct way round — the body is marked with a ‘-’ sign and this identifies the orientation.
Make up the jack plug lead as shown in Fig. 7.
Note that only one stereo channel is used — it doesn't matter which.
After building the circuit check it as follows.
Turn the sliding contact of the potentiometer to approximately mid-position.
Connect the battery.
Adjust the potentiometer so that the light is fairly weak.
Insert the jack plug into the stereo unit earphone socket and turn the volume control to a low level.
Now play some music and observe the l.e.d. — it should be seen to be varying in brightness gently with the music.
If it does not vary at all, increase the volume a little .
If it flashes heavily, turn it down.
If this works correctly, all is well and attention may be given to building the receiver.
If the l.e.d. does not light, it has probably been inserted the wrong way round in the circuit — reverse its leads and try again.
BUILDING THE RECEIVER
The Plugblock layout for the receiver is shown in Fig 8.
To build it, you will need the following components.
The receiver section needs a lot of connections so proceed carefully.
Make sure the three electrolytic capacitors are connected the correct way round as shown.
Note that the circuit works best from 4.5V or 6V battery (three 1.5V cells were used in a suitable holder for the prototype unit).
Note also that an 8 ohm loudspeaker is needed.
The high resistance speaker used in previous experiments would not be satisfactory.
A suitable speaker could possibly be borrowed from an audio system.
TESTING
The system may be checked without using the optical fibre for the moment.
Connect the loudspeaker and battery.
If the phototransistor detector is picking up mains lights —especially from a fluorescent tube — there may be a buzzing sound from the loudspeaker and it would be necessary to shield it from the light to prevent this from happening.
A gentle hiss should now be heard.
The transmitter should now be operated and the l.e.d. held pointing downwards approximately 10cm away from the top of the phototransistor on the receiver unit.
Note that both the l.e.d. and phototransistor are very directional — the tops are the sensitive surfaces.
If necessary, use a shield to prevent stray light from reaching the detector.
The music should be heard clearly from the loudspeaker.
This is quite exciting in itself.
If too great a volume is produced for the i.c. to handle it shuts down automatically but will come on again when correct conditions are restored.
Adjustments should be made to the Walkman volume control and to VR1 on the transmitter unit to provide the clearest results.
If the l.e.d. is over-modulated (that is, by advancing VR1 too far) the sound will be distorted.
If under-modulated, there will be a lot of background noise and weak results.
You will find that the modulation is approximately correct when the flashing can only just be seen over the steady glow.
Try to find the maximum range of the device in free air.
This is limited because the light from the l.e.d. spreads out and only a fraction of it falls on the detector.
Meanwhile the detector picks up hum from mains lighting and clicks are likely to occur whenever a flashing light is detected from whatever source.
This illustrates the drawbacks of an analogue system.
The range could be extended by several meters by using a glass or plastic lens to focus the light from the l.e.d. into a parallel beam then back into a spot on the sensitive area of the phototransistor using another lens.
ADDING THE FIBRE
After these initial experiments have been explored, performance may be improved and the range greatly extended by channelling the light from the l.e.d through the optical fibre.
One student holds an end of the optical fibre on top of the l.e.d. in the transmitter and another holds the distant end on the top of the phototransistor.
The exact positions are very critical and results depend very much on exactly where the ends are held.
When the best signal is obtained, the optical fibre could be secured at each end using PVC tape.
Specially designed fibre optic infra-red l.e.d. 's and matching detectors are available from some suppliers.
These are mounted in holders which secure the optical fibre in the optimum position.
However, for reasons previously stated these have not been used in the present design.
The performance of the system should be investigated and an evaluation of an analogue system made.
Unfortunately, it would not be an easy matter to construct a home-made optical system using digital signals so that this technique could be compared with the analogue one.
However, if we examine the drawbacks of the analogue system, the advantages of using a digital one should be clear.
ULTRASONIC LINKS
Before finishing for this month, we shall look at one further method of short range communication; This involves ultrasonics .
Ultrasonic waves are sound waves but of a higher frequency (pitch) than the human ear can hear.
They are quite unlike radio waves since radio waves can travel in empty space and move at the speed of light (300 million metres per second — equivalent to approximately seven circuits of the earth in one second).
Such waves are called electromagnetic waves .
By contrast, ultrasonic waves travel relatively slowly — 300 metres per second approximately — and need a medium such as air to travel through.
Bats use ultrasonics for their guidance system.
Ultrasonic signals may be used for short-range control purposes.
Unfortunately, the technique is limited because the system is easily deceived by false pick-up.
The reason is that many everyday sounds — such as keys being dropped on the floor — contain ultrasonic frequencies and these can cause spurious operation.
Before infra-red control became popular, ultrasonic remote control was often used in television sets for simple on-off switching.
A handset would contain an ultrasonic transmitter and the television fitted with a matching receiver.
However, for the reason stated above, the television could be turned on if someone broke a glass or even whistled sharply!
Ultrasonics technology is used in certain burglar alarm systems which trigger on detecting the sound of breaking glass.
Another use is to produce pictures of an unborn baby by reflecting ultrasonic waves off its body.
This is believed to be harmless unlike the use of X-rays which could be damaging.
Readers interested in doing experiments involving ultrasonics can buy the basic matching transmitters and receivers quite cheaply but they will need to look up or develop the circuits needed to make them work.
That completes the work for this month.
Next time we shall look at bistable circuits and the use of IT devices to monitor and control experiments.
THE ABC OF R.I.A.A.
W. F. HARMS
DESPITE the advent of cassettes and CDs the analogue record is likely to be with us for some time yet, and in every amplifier used for playing them is an equaliser to modify the signal derived from the pick-up cartridge.
Equaliser circuits for this purpose are available in handbooks, journals etc. but it is most unfortunate that many of the designs, even those in quite expensive equipment, are inaccurate.
These are then innocently repeated and alas, the accurate circuits are forgotten, and yet it costs no more to be correct.
It is, therefore, worth taking a little time and trouble to understand how this can be attained and is the purpose of this short article.
CONSTANT VELOCITY
From the earliest days of electrical recording, a constant velocity system was used to suit the velocity sensitive moving-iron cartridge normally used.
If this were to be applied unmodified, since the displacement of the stylus varies inversely with frequency, the amplitude of the waveform cut in the disc at low frequencies would be very large.
There is an economic limit for the groove width and since the amplitude has to be reduced accordingly, the system is changed to ‘constant amplitude’ in this region.
This of course, necessitates a correcting network on replay.
Correspondingly, the higher the frequency the smaller the amplitude, and with the introduction of wide frequency range recording, surface noise became more significant.
The system is therefore changed during reception of the treble on ‘top’ content to constant amplitude which enhances the amplitude with frequency.
On replay with a correcting network, the signal is normalised and at the same time, the signal to noise ratio is improved.
Finally, so as to limit the range of the compensation over the useful audible range to about 40dB, the system reverts to constant velocity for the lowest frequencies, with a benefit as regards possible ‘rumble’ as a bonus.
R.I.A.A. Agreement
Record manufacturers formerly pleased themselves as to the degree of attenuation or enhancement used and in the early '50s, an amplifier might have several switched replay positions whilst another provided plug-in networks to suit records and cartridges.
Ultimately, this chaos was rationalised by agreement…
British Standard 1928 (dated 1955 and re-issued 1965 unchanged) is similar to CCIR (Comite Consultatif International des Radiocommunications) in Europe and R.I.A.A. (Recording Industries Association of America) in America, and the latter title generally prevails.
The R.I.A.A. specifies a ‘Recording Characteristic’ and recommends the replay characteristic be the complement of this using a velocity sensitive cartridge, whilst the British Standard specifies both recording and replay characteristics.
Although using different wording, the end result is identical.
SPECIFICATION
The replay characteristic is defined by the combination of three separate curves, individually the plot of a resistance/capacity combination of time constants t 1 = 75µ secs,t 2 = 318µ secs and t 3 = 3180µ secs which, when combined, give the curve in Fig. 1.
The dotted lines are the asymptotes to the curves and the ‘turn over’ frequencies can be identified  as 2122Hz, 505.5Hz and 50.05Hz respectively.
Fig 1.
R.I.A.A. replay characteristic
Fig 2.
Replay circuits in which two time constants are combined.
Fig 3.
R.I.A.A. replay networks.
The slope does not exceed 6dB/oct.
The response is usually related to that at 1kHz; this is 10.103 per cent of the maximum and not 10 per cent as might be presumed.
Realising the response can be achieved in three separate stages but this is not recommended.
A better way is to combine t 2 and t 3 in a passive or active form as shown in Fig 2.
However, the usual arrangement is to combine the three time constants in a single network and the alternative types are shown in Fig 3, two of which are suitable for a passive circuit whilst the others can be used in a feedback circuit because their impedance overall varies in accordance with the R.I.A.A. requirements.
COMPONENT VALUES
Because of interaction, component values cannot be determined by a simple ‘rule of thumb’ and it is necessary to equate the response in terms of impedances with that in terms of time constants.
Although a little involved but not difficult (ordinary algebra), fortunately this is not necessary for the data was made available over thirty years ago.
In the late 50's E.M.I.
advertisements often included the networks with values whilst in more detail, they were given in 1957 by W. H. Livy of E.M.I.
in the Wireless World magazine.
The component ratios are shown in Fig 3.
By their prudent use, an accurate R.I.A.A. network is assured but the precise design depends upon the circuit as a whole in which it is to be used and particularly upon the impedances associated with it.
However, in a feedback circuit, if the 1kHz gain is set low, say 30, or if the ‘open loop gain’ of the circuit is limited (as opposed to very high), inaccuracies can creep in beyond the usual tolerances, and special consideration may then be necessary.
In any event, the need to use ‘preferred values’ can be frustrating but with careful adjustment, the errors can be kept within 0.2dB, and this should be the aim.
Constructional Project
DIGITAL SERVO INTERFACE
MIKE MEAKIN
From Victoriana automata to Star Wars robots, this 8-channel serial port interface will allow you to control their actions through your home computer.
SOME years ago an enterprising manufacturer of home computer ‘add-ons’ produced a low cost robot arm that used standard model radio control servos to produce the motive power.
A small machine code programme was tucked away in the computer and when called upon would produce the necessary signals to drive the servos via the ‘user port’ and an interface box.
This was ideal for those hobbyist and experimenters who derived much fun  a pleasure from making their computers ‘sing and dance’ in the real world.
The interface was applicable not only to robot arms but to buggies and those interested in making ‘high-tech’ versions of Victorian ‘automata’or animated models.
ANIMATRONICS
Since those early days of ‘home robotics’ this combination of science and art has been given the name ‘animatronics’.
A very good example of the craft is seen in the almost human mannequins used in the ‘Royal’ exhibition at Windsor.
As Queen Victoria rises from her throne to address the audience it is hard to believe that it is not real flesh and blood!
Whilst these professional ‘robots’ use pneumatics, the same effect can be achieved, on a more modest scale, with the humble radio control servo.
These very same servo mechanisms can be found within popular animated toys and it was whilst repairing my daughters ‘Teddy Ruxpin’ that the seeds of this project were sown.
A wide range of servos are available from almost any model shop.
The smallest being the size of a box of matches to the largest which are capable of winching a 40lb load.
In addition speed controllers capable of driving d.c. motors are available too.
In recent years, due mainly to the vast market for model off-road vehicles, the price of these servos has tumbled, with a good quality servo now costing less than ten pounds.
It is also possible to buy both the mechanics and the electronics for model servos in kit form from specialist suppliers.
Whilst the cost saving in building from a kit is not enormous there is a certain satisfaction to be derived especially if a custom built solution is required.
MISSING LINK
The only ‘missing link’ is the interface between the computer and the servos.
The manufacturers of the robot arm have not advertised in the hobby electronics press for a long time and a disadvantage of their interface was that both software and hardware were designed specifically for the BBC computer.
The BBC Model B was, and probably still is, one of the best equipped home computers for experimenters and ‘interfacers’.
Sadly, manufacturers of more modern machines save themselves a few pennies and if it is ‘user ports’ or analogue to digital converters that are required then the customer must dig even more deeply into his or her pocket!
The only interfaces that are almost universally supplied as standard are the parallel port and the serial port.
The parallel port is usually fully employed driving a printer and therefore it would be more convenient if the serial port could be used.
SERVO OPERATION
Before the Digital Servo Interface is described it may be worth looking at the principles of operation of these model servos.
They are based on the classic ‘closed loop feedback’ system where the desired position is compared with the actual position and if there is a difference, an error signal is generated that drives the output closer to the desired position.
Rather than using analogue voltages the servos operate with digital pulses of varying width to form a pulse width locked loop.
A typical servo in block diagram form is shown in Fig 1.
Input pulses trigger a monostable whose time period is determined by the wiper (moving contact) position of a potentiometer connected to the output shaft of the servo.
If this time period is greater than the input pulse width, the motor is driven in one direction whilst if it is less than the input pulse width, the motor is driven in the opposite direction.
The comparison and generation of these error signals is illustrated in Fig 2.
The motor will therefore drive the output shaft to a position where the monostable time period exactly matches that of the input pulse width.
The input pulse width is thus accurately translated into output shaft position.
As the monostable time period and the input pulse width approach each other, the error pulse must be ‘stretched’ to ensure that there is sufficient power to drive the motor.
This continues until the pulse widths are within about one per cent of each other.
This ‘deadband’ prevents the servo from ‘hunting’and allows for the inevitable backlash, friction and inertia of the gearbox and motor.
The repetition rate of the input pulse is, up to certain limits, non-critical and usually between 18mS and 50mS.
In radio control parlance this is called the frame rate and determines how rapidly and smoothly the servo position can be updated.
Fig 1.
Block diagram of a typical servo system.
Input pulses trigger the monostable whose time period is determined by the position of the ‘pot’ spindle coupled to the servo output shaft.
SERVO AMP
Fortunately all of the electronics for the servo amplifier is usually contained within custom designed integrated circuits and interested readers should refer to the data sheets and application notes for the Signetics NE 544, the Plessey ZN 409 and the Exar XR-2264 for further information.
The servo amplifier circuitry is mounted on a small printed circuit board that fits within the case of the servo mechanics and the user is presented with three colour coded wires that terminate at a miniature plug or socket.
These wires comprise positive supply, 0V and signal input.
A typical radio control system operates from a supply voltage of 4.8V to 6V derived from either four NiCad rechargeable cells or four 1.5V dry pen cells.
As each servo may consume up to 1A when driving to a new position it is important that the supply has a very low output impedance and NiCad batteries are usually recommended for multi-servo systems.
There has been some standardisation on input pulse widths and in general, pulse widths of 0.75mS to 2.2mS will produce an output shaft rotation of about 180 degrees.
The neutral or mid-position varies from manufacturer to manufacturer but as the output arm is usually attached to a splined output shaft it can be easily adjusted.
Care must be taken when using these servos to avoid stalling them against the end-stops as large currents will be drawn by the servo amplifier that may eventually cause permanent damage.
DIGITAL SERVO INTERFACE
In order to drive the model servos from the serial port of a computer a protocol converter is required to translate messages squirted out of the port into pulses that the servos can understand.
This is achieved by the Digital Servo Interface which, for elegance and simplicity, uses a single chip, preprogrammed i.c. (see Fig 3) to both generate the variable pulse width signals for the servos and decode commands from the host computer.
The device used is an eight bit CMOS microcontroller in an 18-pin plastic d.i.l. package.
It is embedded with some of the intelligence but not necessarily the wit of the author!
It can drive up to eight servos and operates from the 4.8V to 6V servo supply.
Timing is derived from a low cost 4MHz ceramic resonator so that no trims or ‘tweaks’ are required.
The most common serial port format is RS232 and, already, the sighs and groans can be heard as its mere mention can bring apoplexy to even the most experienced engineer.
This despair may be deserved when whole books have to be written on the subject of connecting two pieces of electronic equipment together.
However, with some simplification and the elimination of multiple choice, success can be achieved in the majority of cases first time around.
The interface could be classified as a Data Communications Equipment (DCE) and is thus similar to a serial printer in operation.
The serial interface consists of a RX data input and a CTS (Clear To Send) output only.
CIRCUIT
The full circuit diagram for the Digital Servo Interface is shown in Fig 3.
In order to minimize cost and keep things simple, the signal levels are non-standard.
IC1 is protected against damage by resistor diode networks that clamp the RS232 input and output to the supply rails.
The RX data input is clamped to the supply rails by diodes (D2, D4) to clamp the RS232 voltage levels to 5V logic levels, whilst the CTS output is a 5V logic level swing rather than the specified RS232 minimum +/-3V signal.
This output is also protected by clamp diodes (D1, D3) to prevent damage should inputs and outputs be reversed.
Most modern computers will function perfectly well over short cable lengths at these reduced signal levels.
The interface has been tested with the BBC RS423 port, the Cambridge Computers Z88 and both the Amstrad PC 1640 and PPC 512 computers.
For the purist, or long distance servo driver the input/output levels could be buffered by a MAX232 or similar RS232 transmitter/receiver.
It should be noted that most RS232 level converters are inverting, so additional inverts should buffer the input and output to restore the correct polarity.
The pre-programmed ‘processor’ IC1 contains all the active circuitry with a low cost 4MHz resonator driven by an internal oscillator providing the timing.
An l.e.d.
(D5) can be optionally fitted to the board and merely indicates that characters are being received at the RS232 input.
IN COMMAND
The baud rate is fixed at 9600 bits per second and the data format is one start bit, eight data bits and one stop bit.
Commands consist of a channel address and pulse width information sent in a string of printable hexadecimal ASCII characters and terminated by a carriage return.
Fig 2.
Comparison of input signal and monostable pulse width.
Fig 3.
Complete circuit diagram for the 8-channel Digital Servo Interface.
Capacitor C4 should be a tantalum type.
The microcontroller sequentially generates the eight channel output pulses and then raises the CTS (Clear to Send) line high for 4.2mS during which time, data can be sent from the host computer.
(See timing diagram, Fig 4).
It was noted in the course of development that some computers continued to send characters after the CTS input was taken low.
This is not unreasonable as CTS is usually used as a signal from a printer to indicate that the input buffer of the printer is getting nearly full.
In order to cater for this anomaly the microcontroller will continue to recognise characters for a further 4mS by which time the host computer should have ceased sending characters.
If all outputs are set top the minimum pulse width of 0.75mS, the frame rate will be 14.2mS (8 × 0.75mS + 8.2mS) whilst if all outputs are set to the maximum pulse width of 2.25mS the frame rate will be 26.2mS (8 × 2.25mS + 8.2mS).
This ideally matches the requirements of the servos and ensures a smooth and rapid response.
With the chosen baud rate and data format each character is approximately 1.04mS in duration.
This allows one complete message command of four characters to be sent each frame and at the minimum frame rate allows up-dating the channel pulse width settings some forty times every second.
The channel address must have a numeric value between 1 and 8 with the output pulse width being defined by the decimal value (× 10µS) of the following two hex characters.
For example, sending ‘1 64 (Return)’ will set channel 1 output pulse width to 1.00mS. (64 Hex = 100 decimal × 10µS = 1.00mS).
Although using hex characters may seem a little inconvenient when manually sending commands direct from the keyboard, it gives a resolution of 1 part in 255 against 1 part in 100 if two decimal characters were used.
In order to prevent damage to the servos, any commands that request a value of less than 0.75mS (Hex 4B) or greater than 2.25mS (Hex E1) are ignored.
Characters must be upper case only and whilst a space, or non-hex character, may be optionally used to separate channel address and data, no space must precede the channel address.
A message may only consist of one command containing a maximum of three valid characters and must be terminated by a carriage return character (Hex 0D).
On power-up, all outputs are initialized to give a pulse width of 1.5mS.
A special character, ‘Ctrl-R’(Hex 12) sent as any part of a message will re-initialize all the outputs to this value.
Some example programmes written in BBC BASIC and GW BASIC demonstrate the practical ease of sending commands both from the keyboard or automatically under programme control.
These demonstration listings are shown in the ‘Programming Notes’ panel.
CONSTRUCTION
A printed circuit board (p.c.b.) layout and full size copper foil master pattern is given in Fig 5 but as the circuitry is so simple, some constructors may choose to build the interface on stripboard.
There are no critical layout requirements although it is suggested that the decoupling capacitor, C1, be placed close to the supply pins of the microcontroller IC1.
Fig 4.
Timing of the Clear-To-Send (CTS) and output pulses
Fig 5.
Full size copper foil master pattern and circuit board topside component layout.
The microcontroller is a CMOS device and normal anti-static handling procedures should be followed.
The usual precautions of observing the polarity of the diodes and the electrolytic capacitor will bring the reward of first time success.
The board is de-coupled by a capacitor C4.
As the servos move to new positions, large ‘chunks’ of current are taken from the battery supply and it is recommended that a tantalum capacitor be used in this position.
For this same reason, NiCad batteries should be used in preference to dry cells when more than two servos are being driven by the board.
If a mains power supply is used, ensure that an additional decoupling capacitor of several thousand microfarads (µF) is placed across the output.
Semiconductor regulators are unable to provide the peak current requirements of the servos and will current limit and thus drop out of regulation.
A Molex 3-pin connector is used to terminate the RS232 cable and Fig 6 shows the connections to both BBC and PC type serial ports.
Outputs are terminated in a row of p.c.b.
pads that provide connections for the servos and the power supply.
A ‘block’ type connector may be fitted to the board and pad spacing will suit either the older Futabase or SLM sockets or the latest 3-pin headers.
Alternatively, servo extension leads can be ‘cannibalised’ to provide the required plugs or sockets.
These again are available from good model shops.
Note that no universal standard exists for the servo connections and on some older servos the supply connections may be reversed.
They say that cleanliness is a virtue and careful cleaning of the PCB after assembly with cellulose thinners and a stiff brush will reveal any poor solder joints and is well worth the modest effort.
TESTING
Testing is limited to checking the correct supply polarity and applying power to the board.
If servos are connected to the outputs, they should immediately drive to the neutral position.
The interface should then be connected to the serial port of the host computer and the demo software listing loaded.
When this is run the servos should faithfully follow the input commands.
Model control servo with three-lead output wires connected to a miniature plug.
This plug is inserted in the ‘block’ connector — see inset and previous photographs.
DOWN TO EARTH George Hylton
Battery Substitutes
Batteries seem to have become very expensive — especially large 9V types for the older generation of portable radios.
Sooner or later it occurs to the owner that, for the price of two or three battery changes, it should be possible to make a transformer-rectifier unit capable of acting as a permanent substitute for the battery.
As usual, however, there are problems, and help in solving them can be had by making a few simple measurements.
Transformer Ratings
If a mains transformer has a secondary rated at 9V, 100mA, does this refer to the a.c. output or the d.c. after rectification?
The distinction is important because with a typical rectifier circuit with reservoir capacitor (Fig 1), the d.c. output voltage is significantly greater than the a.c.
This increased voltage means that, for the same current, the d.c. power is typically about 1.4 times the a.c. power.
Over the years it has become usual to rate small transformers for this sort of application in terms of rectified and smoothed d.c. outputs, but you can't always be sure of this and caution is advisable.
Practical Transformers
Another problem is that the output voltage of transformers seldom correspond exactly to the rated voltage.
The main reason is that as current is drawn the resistance of the windings absorbs some voltage.
The manufacturer allows for this by upping the voltage.
This means that the voltage delivered at low output currents is greater than the rated voltage.
This can be worrying in a practical case (Fig 2) where the output of a transformer/rectifier unit is connected to the battery terminals of a radio.
The radio's on-off switch disconnects the output of the substitute ‘battery’.
The input of the substitute is left energised by the mains even when the radio is switched off.
The reservoir capacitor (C1 in Fig 1) then charges to the full offload voltage, which as we have seen is considerably in excess of the rated voltage.
When the radio is switched on, this voltage, stored on C1, is temporarily let loose on the circuitry, where it could conceivably do some damage.
After a moment, of course, the voltage subsides to its on-load value, which is smaller.
But we all know that a moment's overload, may wreak havoc.
If there is a large capacitance inside the receiver, across the battery terminals, this absorbs much of the switch-on surge and reduces the risk.
Practical Example
Recently, through the advertising pages of EE, I discovered a source of cheap transformers rated at ‘9V-0V-9V, 75mA’.
When connected as in Fig 1 the off-load d.c. output voltage was a shade over 15V.
Even at 75mA d.c. output it was still well over 9V.
At first I suspected that the local mains voltage (nominally 240V) must be high, but in fact it measured only 234V on an accurate digital voltmeter.
So that wasn't he answer: the transformer output voltage really was too high.
(I suspect that the primary is wound for 220V continental mains, not 240V as indicated on the box).
What can be done about it?
Inserting a simple voltage-dropping resistance is useless.
It has little effect at low currents but severely reduces voltage at high currents.
To tackle the problem I needed more detailed information about the behaviour of the transformer-rectifier circuit, so I measured its d.c. output voltage at various currents and plotted the results on a graph (Fig 3).
This shows that the voltage delivered at the maximum rated current (75mA) is still more than 9V.
However, a fresh 9V battery is likely to deliver something approaching 10V, so a small over-voltage is tolerable.
It's the large over-voltage at no load and small loads that is the problem.
One could simply risk it.
Better, fit a true mains switch (e.g. a cord switch on the primary side of the transformer) and hope that people will use it instead of the on-off switch on the radio.
This is a good idea anyway, for the sake of safety.
Or one could regulate the output voltage in some way.
There isn't enough excess voltage to permit the use of an ordinary i.c. stabilizer unless one of the new low-voltage-drop kinds is available.
So what are the alternatives?
Zener Diode
If a Zener diode is connected across the d.c. output (as shown dotted in Fig 1) then the voltage can't exceed the Zener voltage.
The user must ensure that the permissible Zener dissipation is not exceeded.
The voltage-current curves help.
If the radio is off but the mains still connected to the transformer then the Zener must absorb all the output current.
The nearest standard Zener diode voltage to 9V is 9.1V.
The curves show that at 9.1V the current is 100mA.
This exceeds the transformer current rating.
At 75mA, the voltages is 10.1V.
The extra 1V could be lost in a series resistance, as shown inset in Fig 3.
The required resistance is 13.33 ohms and it must dissipate 75 × 1 = 75mW.
The Zener must now dissipate 9.1V × 75mA = 683mW.
My useful Cricklewood Electronics catalogue (supplied Free with EE) lists Zeners with power ratings of 400mW, 1.3W and 5W.
In the present case 400mW is too low but 1.3W is well within ratings, even allowing for Zener tolerances and a possible mains surge of 10 per cent.
In some cases, it can happen that the correct voltage is obtainable simply by connecting a Zener across the output.
In the present case, the transformer can safely deliver 12V d.c. at 38mA, so is usable if a 12V supply at up to 38mA is needed.
With no load, a 12V Zener must then dissipate 456mW (=12V d.c. at 38mA) so a 1.3W Zener would do nicely.
At 75mA output the circuit delivers 10.1V, so it is possible, in theory, to connect a 10.1V Zener (power dissipation 10.1 × 75 = 758mW) across the output.
Of course, 10.1V is not a standard voltage.
You could either buy a lot of 10V, 5 per cent Zeners and sort out one with the right voltage (up to 10.5V is possible at 5 per cent tolerance), or you could use a 9.1V Zener in series with two high-current silicon rectifiers, which will drop about 0.5V each.
Or you could be sensible and stop trying to squeeze the last drop of current from the transformer!
Fig 1.
Typical transformer-rectifier circuit.
Fig 2.
Usual arrangement when a battery substitute is used to power a battery radio.
Fig 3.
Voltage-current curve for Fig 1.
A series resistance and shunt Zener can limit voltage and current output.
Switching
The fact that the d.c. supply may remain on when the receiver is turned off at its own switch (usually ganged to the Volume control) is a worry.
The transformer unit, when Zener stabilized, goes on dissipating full power.
It's tempting, when fitting a permanent substitute for the battery, to rewire the existing on-off switch so that it operates on the mains supply to the transformer primary.
This can only be contemplated if the switch is rated to handle the full mains voltage (which is unlikely).
If the rating is not marked on the switch or volume control it isn't worth the risk.
Use a separate mains switch of adequate rating.
A less good alternative is to connect the Zener across the battery terminals of the radio, on the circuit side of the on-off switch (as shown dotted in Fig 2).
The Zener then gets a kick when the radio is turned on and capacitor C1 partially discharges through it.
To be on the safe side use a Zener of higher power than is needed.
With this arrangement the standby power consumption (radio off) is low.
Ideally, C1 should also be connected on the radio-circuit side of the on-off switch, but this may be difficult mechanically.
EVERYDAY READOUT
DIESEL TACHO
Dear Ed.,
Mr Pike has asked for details of a diesel tacho in your April issue.
The 30HP Watermota diesel on my boat was fitted with a pickoff from one phase of the Lucas car alternator using nine rectifiers.
An 0–270° Cirscale meter measured frequency and was scaled to correct belt drive step up displaying Engine RPM.
The tap was soldered very close to a rectifier and is not an easy job.
It must be fused as an insulation failure would burnout the alternator.
The elapsed time recorder (engine hours) was mechanical, driven by diesel knock.
A possible pickoff might use a small moving coil speaker clamped to the engine with the diaphragm loaded with a small metal weight.
Dear Ed.,
In reply to Mr Pikes letter (EE April ‘92 ) I have some information which may be of some use.
The vast majority of vehicle alternators are three phase and the ‘W’ terminal is connected to one phase.
This gives 7 to 8 volts pulsating d.c. (i.e. half wave rectified a.c.).
The number of pulses per second depends on the number of pole pairs and the rotational speed of the alternator.
I found the following equation from which you can determine the frequency (pulses per second).
As I work as a mechanic on diesel engines I had the opportunity of testing the output of the ‘W’ terminal, and it was, as the text books said, 7 to 8 volts.
But the output started at 8 volts at about 800 r.p.m. and fell to 7 volts at 2800 r.p.m. (max r.p.m. for the engine under test).
Perhaps the connection of a ‘scope would show a rise in frequency.
The other device I saw some time ago was a timing light for diesels, this obtained its triggering pulse from a sensor clipped to no.1 injector pipe.
When diesel is injected in to the engine via the injector at about 2800 p.s.i.
there is a shock wave in the pipe, it's this shock wave or pulse which triggers the timing light.
How the sensor transmits the pulse into a  usable driver for a tacho I do not know.
A problem I have which I hope you can solve is that I wish to build a ammeter to test alternator outputs.
I need to be able to read outputs of a maximum of 100A (this may seem high but in my work you come across this sort of output).
AUDIO TELESCOPE
Dear Ed.,
On reading R. Penfold's article in the April ‘92 issue of Everyday Electronics , I had a similar query in my mind to that of Mr G. I. Smith (Everyday Readout May'92 ).
I also have severe loss of hearing in both ears and wear two hearing aids.
I appreciate this difficulty with hearing in debates, church etc and conversation among groups of people, but my particular complaint is the loss of sound location out of doors mainly, but also in the home.
The idea of using two microphones appeals to me because it could stimulate two ears.
I maintain that bilateral hearing is essential for sound location — as two eyes are for stereovision.
However the Audio Telescope is designed to amplify low sounds for headphone listening.
Headphones are not practicable for hearing aid wearers because the proximity of the headphone causes acoustic feedback in the aids.
To reduce this the hearing aid wearer will turn down the volume of his aid, and would therefore lose the amplification he had gained from the Audio Telescope.
My suggestion is that the Audio Telescope output (with two microphones) could be coupled to a meter which would show by its maximum reading the direction of the sound.
I am afraid that this does not answer G. I. Smith's predicament.
I can only suggest that he considers Inductive Hearing with one small microphone and an amplifier.
I have an instrument like this for listening to the TV.
Dear Ed.,
Going to Maplins shop in Bristol to purchase components to build the Audio Telescope in your April issue I am informed that the Electret insert mic. is not available, a discontinued item.
Also the type of medium impedance headphone is not available for this same project.
I have gone through all the main component stockist catalogues, but the two items seem to be rare.
Could you please inform me of any stockists addresses, so that I can purchase the ‘mic.’ and the phones.
As many readers have discovered the supply of the specified unidirectional microphones for this project has dried up — apparently they are no longer being made.
The following item from Robert Penfold gives information on an alternative microphone available from Maplin; order code FK44A.
One or two readers have also queried the headphones used.
These are 32Ω stereo headphones but no connection is made to the common (outer) jack socket terminal thus placing the two phones in series in this circuit.
No alteration is necessary to the phones or their plug so they can be used with other equipment as normal.
Please also note that two CI's are shown in the components list — the second one should be in C2. —Ed.
ALTERNATIVE MICROPHONES
The Maplin unidirectional electret microphone insert specified for this popular project has now sold out, and further supplies are unlikely to be available.
The Maplin dynamic undirectional insert is suitable for use in this unit, but gives slightly lower sensitivity.
It has only two terminals which connect to ‘0V’ and ‘OUT’in Fig 4.
This insert can be connected either way round.
The ‘V+’ terminal is left unconnected.
R1 and C1 become superfluous and can be omitted.
It is possible to compensate to some extent for the lower sensitivity by reducing R2 to 470Ω in value.
Making R2 any lower in value will simply increase the noise level as well as the wanted signal, and will probably not improve performance.
The dynamic insert is much larger than the electret type (about double the diameter).
It is therefore advisable to mount it closer to the lid of the case so that there is sufficient space for the circuit board to fit beneath it.
Complete each connection to the insert fairly swiftly, or you might desolder an internal connection (which will result in zero output from the insert).
The dynamic insert might pick-up a certain amount of ‘hum’ and other electrical noise if the unit is operated close to a television set, mains wiring, etc.
However, the unit is intended for use out-of-doors when it should provide ‘hum-free’ operation.
Optimum results seem to be produced using a separate dynamic or electret stick microphone.
In general, electret types provide significantly better sensitivity than dynamic types.
The only drawback of this method is that the price of a cheap electret stick microphone seems to be about double the cost of the other components!
If you already have a suitable microphone it is well worth trying though.
The screen of the microphone cable connects to ‘OV’, and the inner conductor connects to ‘OUT’.
REPORTING AMATEUR RADIO
Tony Smith G4FAI
At the World Administrative Radio Conference (WARC) at Torremolinos, which ended on 3rd March, the main amateur interest related to allocations for the 7MHz band.
In some countries, including North America, this band covers 7.00 to 7.30MHz (ie, 300kHz), while in others, including the UK and Europe, it is only 7.00 to 7.10MHz (100kHz).
In the face of possible threats to the full 300kHz band from broadcast expansion, European amateurs had hoped that what might emerge was a worldwide common 200kHz band, although the International Amateur Radio Union felt the amateur service should not relinquish any of its full 300kHz where currently allocated.
In the event, less broadcasting expansion was agreed than was expected and the 40m amateur allocations remained unchanged.
To ensure formal consideration on a future agenda, a recommendation by Mexico was adopted calling for exclusive allocations for both amateur and broadcasting services around 7MHz which, it is hoped, could eventually result in a common worldwide amateur 40m band.
The WARC was attended by over 1,400 delegates from 127 countries and 31 international and regional organisations.
Many observers from national radio societies were attached to official delegations and, according to the W5Y1 Report , more than 100 radio amateurs from about 40 countries were among the delegates, clearly demonstrating how an early interest in amateur radio can lead to success in a telecommunications career.
BROADCAST BAND EXPANSION
The WARC agreed that ten new international broadcasting bands would become available on April 1st, 2007, as follows: all to use limited single-sideband transmissions.
As these allocations fell short of what had been proposed, the USA filed a ‘reservation’, expressing the view that the conference had failed to make adequate provision for the h.f. needs of the broadcasting service, particularly below 10MHz and reserving the right of the US ‘to take the necessary steps to meet the h.f. needs of its broadcasting service.’
YOUNG AMATEUR OF THE YEAR
Once again, the Young Amateur of the Year Award is sponsored jointly by the DTI's Radiocommunications Agency and the Radio Society of Great Britain.
This award is open to any radio amateur under 18 years involved in such activities as DIY amateur radio construction, operating radios, community radio (for example emergency communication networks), encouraging others to become interested in amateur radio, or appropriate school projects.
The award will be made for the most outstanding achievement between 1st August 1991 and 31st July 1992, and will be presented at the RSGB's annual convention in September.
In addition to a cash prize, all entrants will receive a copy of the RSGB's amateur radio log book and the winner and runners-up will be invited to visit the Agency's radio monitoring station at Baldock in Hertfordshire.
Further information is available from the RSGB.
Applications or nominations for the award should be sent to: Young Amateur of the Year Award 1992, Radio Society of Great Britain 
DUTCH EU BROADCASTS SAVED
A last minute decision by Radio Netherlands' management has averted the proposed close-down of their popular shortwave transmissions to Europe scheduled for 29th March.
So many letters of protest were received from listeners that it was decided to retain one transmission to Europe, at 1230 UTC each day on 9855kHz in the 31 m band.
For more than 25 years the only English transmission from Holland on Sundays has been ‘The Happy Station’ programme, the longest running radio show in the world which started in 1928, and this continues in the new Sunday slot for Europe.
A new programme, ‘East of Edam’ is also now broadcast on Sundays to countries outside Europe, and all Sunday transmissions now begin with a five-minute news bulletin.
A full programme schedule, including transmissions not intended for Europe but which can be heard in the UK, can be obtained from Radio Netherlands, PO Box 222, NL-1200 JG Hilversum, Holland.
ANOTHER NEW COUNTRY
I am continually amazed at the efforts made by individuals to establish ‘new country’ status for remote parts of the world.
This involves formal recognition by the American Radio Relay League which administers the prestigious DX Century Club awards for contacts with over 320 ‘recognised’ countries.
A recent addition to the list is the Penguin Islands lying off the coast of Namibia and owned by South Africa.
One of the rules defining separate country status for DXCC purposes is ‘separation by another DXCC country’.
Namibia lies between South Africa and the Penguins but it was essential for recognition to know that Namibia had no claim on the islands.
It was not felt appropriate to raise this as a direct question to the authorities so an application was made to Namibia for an amateur radio licence for a Dxpedition to the Penguins.
In reply the Namibian authorities stated they could not grant a licence as the islands were South African territory, thus indirectly providing the information required!
Even this was not sufficient however, and before recognition was confirmed large scale maps had to be sent to the US to confirm that other islands, rocks, etc, along the Namibian coast were not under South African control, possibly negating the ‘separation’ contention.
Now that the Penguin Islands represent a new DXCC country, Dxpeditioners will not find it particularly easy or pleasant to operate from them.
To embark for the islands they will need Namibian permission to pass through a restricted coastal diamond area, risking being shot on sight for straying from the road!
South African permission is also required to land on the islands which are nature reserves.
High winds and steep rocks make landing hazardous, and the smell of guano deposits can be significant!
With such problems and difficulties to overcome one wonders why anyone bothers.
Certainly when they appear on the air using exotic callsigns Dxpeditions enable other, less adventurous, amateurs to share in their activities and that is perhaps one of the significant features of the hobby.
Whenever someone undertakes interesting experiments or activities on the air it is open to other operators around the world to find out what is happening, join in, and make some contribution themselves.
RADIO AT DUXFORD
The Duxford Radio Society was recently re-inaugurated to support an international interest in the history of military radio, including all armed forces, para-military and clandestine (Resistance) groups; to assist in the provision of an exhibition of radio equipment at the Imperial War Museum's Duxford airfield; and to operate an amateur radio station at Duxford, using both modern and historic equipment.
Specially adapted accommodation will house a permanent exhibition of equipment later this year and an amateur station GB21WM (or other call as appropriate for special events) will operate every Sunday during the main visitors season.
The purpose of the exhibition and station is to increase public awareness of the role played by radio in war-time operations and, hopefully, to make contact with many people, whether radio amateurs or not, who can help in achieving the aims of the Society either from personal experience and knowledge of historic equipment or from a special interest in the subject.
Further information, after all aspects of the Society, including classes of membership, which effectively range from active to corresponding, can be obtained from the Secretary, Mrs B. I. Pope, 95 Northolt Avenue, Bishop's Stortford, Herts CM23 5DS.